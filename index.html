<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#2D5BFF">
    <meta name="description" content="ØªØ·Ø¨ÙŠÙ‚ Ø¬Ù†ÙŠÙ‡Ø§Øª - ØªØ·Ø¨ÙŠÙ‚ ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ø§Ù„ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ø§Ù„Ø°ÙŠ ÙŠØ³Ø§Ø¹Ø¯Ùƒ Ø¹Ù„Ù‰ ØªØ­Ø³ÙŠÙ† ÙˆØ¶Ø¹Ùƒ Ø§Ù„Ù…Ø§Ù„ÙŠ">
    <title>Ø¬Ù†ÙŠÙ‡Ø§Øª - ØªØ·Ø¨ÙŠÙ‚ ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ø§Ù„</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ’°</text></svg>">
    <style>
        /* ===== CSS Reset ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cairo', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --primary: #2D5BFF;
            --primary-dark: #1A49EB;
            --secondary: #00C2A9;
            --danger: #FF4757;
            --warning: #FFA502;
            --success: #2ED573;
            --light: #F8F9FA;
            --dark: #2F3542;
            --gray: #747D8C;
            --light-gray: #E9ECEF;
            --border-radius: 16px;
            --border-radius-sm: 10px;
            --border-radius-lg: 24px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.12);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --app-height: 100vh;
        }

        /* ===== Body & App Container ===== */
        body {
            background: #f5f7fb;
            color: var(--dark);
            line-height: 1.5;
            overflow: hidden;
            height: var(--app-height);
            position: fixed;
            width: 100%;
            max-width: 500px;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 0 30px rgba(0,0,0,0.1);
        }

        /* ===== Welcome Screen ===== */
        .welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            z-index: 10000;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .welcome-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .welcome-container {
            background: white;
            border-radius: var(--border-radius-lg);
            padding: 40px 30px;
            width: 100%;
            max-width: 400px;
            box-shadow: var(--shadow-lg);
            text-align: center;
        }

        .welcome-logo {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 30px;
        }

        .welcome-logo-icon {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 50px;
            color: white;
            margin-bottom: 20px;
        }

        .welcome-logo-text {
            font-size: 36px;
            font-weight: 900;
            color: var(--dark);
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .welcome-tagline {
            color: var(--gray);
            margin-bottom: 30px;
            font-size: 16px;
            line-height: 1.6;
        }

        .welcome-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 25px;
        }

        .welcome-input {
            width: 100%;
            padding: 16px;
            border: 2px solid var(--light-gray);
            border-radius: var(--border-radius-sm);
            font-size: 16px;
            transition: var(--transition);
            text-align: right;
        }

        .welcome-input:focus {
            border-color: var(--primary);
            outline: none;
        }

        .welcome-btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            padding: 18px;
            border-radius: var(--border-radius-sm);
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 10px;
        }

        .welcome-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .welcome-footer {
            margin-top: 20px;
            color: var(--gray);
            font-size: 14px;
        }

        /* ===== App Container ===== */
        .app-container {
            height: 100%;
            display: flex;
            flex-direction: column;
            position: relative;
            background: white;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .app-container.active {
            opacity: 1;
        }

        /* ===== Header ===== */
        .app-header {
            padding: 15px 20px 10px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border-radius: 0 0 25px 25px;
            position: relative;
            z-index: 10;
            box-shadow: var(--shadow);
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .app-logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 42px;
            height: 42px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .logo-text {
            font-size: 22px;
            font-weight: 800;
        }

        .header-actions {
            display: flex;
            gap: 15px;
        }

        .header-action-btn {
            background: rgba(255, 255, 255, 0.15);
            width: 40px;
            height: 40px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            transition: var(--transition);
        }

        .header-action-btn:hover {
            background: rgba(255, 255, 255, 0.25);
        }

        .balance-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .balance-label {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 8px;
        }

        .balance-amount {
            font-size: 32px;
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .currency {
            font-size: 24px;
            font-weight: 700;
        }

        .balance-change {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
            font-size: 14px;
        }

        .change-positive {
            color: var(--success);
            background: rgba(46, 213, 115, 0.15);
            padding: 4px 10px;
            border-radius: 20px;
            font-weight: 600;
        }

        .change-negative {
            color: var(--danger);
            background: rgba(255, 71, 87, 0.15);
            padding: 4px 10px;
            border-radius: 20px;
            font-weight: 600;
        }

        /* ===== Main Content ===== */
        .app-main {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            padding-bottom: 90px;
            -webkit-overflow-scrolling: touch;
        }

        .app-main::-webkit-scrollbar {
            width: 6px;
        }

        .app-main::-webkit-scrollbar-track {
            background: transparent;
        }

        .app-main::-webkit-scrollbar-thumb {
            background: var(--light-gray);
            border-radius: 3px;
        }

        /* ===== Financial Health Meter ===== */
        .health-meter {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            text-align: center;
        }

        .health-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--dark);
        }

        .health-score {
            font-size: 48px;
            font-weight: 900;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .health-status {
            font-size: 16px;
            color: var(--gray);
            margin-bottom: 20px;
        }

        .health-progress {
            height: 10px;
            background: var(--light-gray);
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .health-progress-fill {
            height: 100%;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 5px;
            transition: width 0.5s ease;
        }

        .health-tip {
            font-size: 14px;
            color: var(--gray);
            padding: 10px;
            background: var(--light);
            border-radius: var(--border-radius-sm);
            margin-top: 15px;
        }

        /* ===== Quick Actions ===== */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 25px;
        }

        .quick-action-btn {
            background: white;
            border: none;
            border-radius: var(--border-radius);
            padding: 15px 5px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        .quick-action-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        .action-icon {
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
        }

        .action-icon.income {
            background: linear-gradient(135deg, var(--success), #27ae60);
        }

        .action-icon.expense {
            background: linear-gradient(135deg, var(--danger), #c0392b);
        }

        .action-icon.savings {
            background: linear-gradient(135deg, var(--secondary), #00a896);
        }

        .action-icon.analysis {
            background: linear-gradient(135deg, #FF9F43, #e67e22);
        }

        .action-name {
            font-size: 11px;
            font-weight: 600;
            color: var(--dark);
        }

        /* ===== Savings Goals ===== */
        .savings-goals {
            margin-bottom: 20px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--dark);
        }

        .section-link {
            color: var(--primary);
            font-size: 14px;
            font-weight: 600;
            text-decoration: none;
        }

        .goals-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }

        .goal-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .goal-card:hover {
            transform: translateY(-3px);
        }

        .goal-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 15px;
            color: white;
        }

        .goal-name {
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 5px;
        }

        .goal-amount {
            font-size: 14px;
            color: var(--gray);
        }

        .goal-progress {
            height: 6px;
            background: var(--light-gray);
            border-radius: 3px;
            margin-top: 10px;
            overflow: hidden;
        }

        .goal-progress-fill {
            height: 100%;
            border-radius: 3px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            transition: width 0.5s ease;
        }

        /* ===== Practical Tips ===== */
        .practical-tips {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }

        .tips-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .tip-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 15px;
            background: var(--light);
            border-radius: var(--border-radius-sm);
            transition: var(--transition);
        }

        .tip-item:hover {
            background: #e9ecef;
        }

        .tip-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }

        .tip-content {
            flex: 1;
        }

        .tip-title {
            font-weight: 700;
            margin-bottom: 5px;
            color: var(--dark);
        }

        .tip-text {
            font-size: 14px;
            color: var(--gray);
            line-height: 1.4;
        }

        /* ===== Expense Analysis ===== */
        .expense-analysis {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }

        .analysis-chart {
            display: flex;
            align-items: flex-end;
            height: 150px;
            gap: 10px;
            margin: 20px 0;
            padding: 10px 0;
            border-bottom: 1px solid var(--light-gray);
        }

        .chart-bar {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .bar-value {
            height: 100px;
            width: 20px;
            background: linear-gradient(to top, var(--primary), var(--primary-dark));
            border-radius: 10px;
            position: relative;
        }

        .bar-label {
            font-size: 12px;
            color: var(--gray);
        }

        /* ===== Recent Transactions ===== */
        .transactions-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }

        .transaction-item {
            background: white;
            border-radius: var(--border-radius);
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .transaction-item:hover {
            background: var(--light);
        }

        .transaction-icon {
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
            flex-shrink: 0;
        }

        .transaction-details {
            flex: 1;
            min-width: 0;
        }

        .transaction-title {
            font-weight: 700;
            margin-bottom: 5px;
            color: var(--dark);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .transaction-info {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: var(--gray);
        }

        .transaction-amount {
            font-weight: 800;
            font-size: 16px;
            flex-shrink: 0;
            margin-right: 10px;
        }

        .transaction-amount.income {
            color: var(--success);
        }

        .transaction-amount.expense {
            color: var(--danger);
        }

        /* ===== Bottom Navigation ===== */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid var(--light-gray);
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            z-index: 100;
            max-width: 500px;
            margin: 0 auto;
            border-radius: 25px 25px 0 0;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.08);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            text-decoration: none;
            color: var(--gray);
            transition: var(--transition);
            padding: 5px 10px;
            border-radius: 10px;
            flex: 1;
        }

        .nav-item.active {
            color: var(--primary);
            background: rgba(45, 91, 255, 0.05);
        }

        .nav-icon {
            font-size: 20px;
        }

        .nav-label {
            font-size: 11px;
            font-weight: 600;
        }

        /* ===== Floating Action Button ===== */
        .fab {
            position: fixed;
            bottom: 70px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(45, 91, 255, 0.3);
            z-index: 99;
            transition: var(--transition);
            border: none;
        }

        .fab:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 30px rgba(45, 91, 255, 0.4);
        }

        /* ===== Modals ===== */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            padding: 20px;
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            border-radius: var(--border-radius-lg);
            width: 100%;
            max-width: 400px;
            max-height: 80vh;
            overflow-y: auto;
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .modal.active .modal-content {
            transform: translateY(0);
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 800;
            color: var(--dark);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            color: var(--gray);
            cursor: pointer;
        }

        .modal-body {
            padding: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--light-gray);
            border-radius: var(--border-radius-sm);
            font-size: 16px;
            transition: var(--transition);
            text-align: right;
        }

        .form-input:focus, .form-textarea:focus, .form-select:focus {
            border-color: var(--primary);
            outline: none;
        }

        .form-actions {
            display: flex;
            gap: 10px;
            margin-top: 30px;
        }

        .btn {
            flex: 1;
            padding: 16px;
            border-radius: var(--border-radius-sm);
            border: none;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
        }

        .btn-primary:hover {
            opacity: 0.9;
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success), #27ae60);
            color: white;
        }

        .btn-success:hover {
            opacity: 0.9;
        }

        .btn-outline {
            background: white;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-outline:hover {
            background: rgba(45, 91, 255, 0.05);
        }

        /* ===== Toast ===== */
        .toast {
            position: fixed;
            top: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--dark);
            color: white;
            padding: 12px 24px;
            border-radius: var(--border-radius);
            z-index: 10000;
            font-weight: 600;
            box-shadow: var(--shadow-lg);
            max-width: 80%;
            text-align: center;
            opacity: 0;
            transition: all 0.3s ease;
            pointer-events: none;
        }

        .toast.show {
            opacity: 1;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateX(-50%) translateY(-20px); }
            to { opacity: 1; transform: translateX(-50%) translateY(0); }
        }

        /* ===== Empty State ===== */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--gray);
        }

        .empty-icon {
            font-size: 60px;
            color: var(--light-gray);
            margin-bottom: 20px;
        }

        .empty-text {
            font-size: 16px;
            margin-bottom: 10px;
        }

        /* ===== Progress Bar ===== */
        .progress-container {
            margin: 20px 0;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }

        .progress-bar {
            height: 10px;
            background: var(--light-gray);
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 5px;
            transition: width 0.5s ease;
        }

        /* ===== Responsive ===== */
        @media (max-width: 480px) {
            .quick-actions {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .goals-container {
                grid-template-columns: 1fr;
            }
            
            .action-name {
                font-size: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Welcome Screen -->
    <div class="welcome-screen" id="welcomeScreen">
        <div class="welcome-container">
            <div class="welcome-logo">
                <div class="welcome-logo-icon">
                    <i class="fas fa-piggy-bank"></i>
                </div>
                <div class="welcome-logo-text">Ø¬Ù†ÙŠÙ‡Ø§Øª</div>
                <div class="welcome-tagline">
                    Ø±ÙÙŠÙ‚Ùƒ Ø§Ù„Ø¹Ù…Ù„ÙŠ ÙÙŠ Ø±Ø­Ù„Ø© Ø§Ù„ØªÙˆÙÙŠØ±<br>
                    Ø£Ø¯ÙˆØ§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù„ØªØ­Ø³ÙŠÙ† ÙˆØ¶Ø¹Ùƒ Ø§Ù„Ù…Ø§Ù„ÙŠ
                </div>
            </div>
            
            <div class="welcome-form">
                <input type="text" class="welcome-input" id="userName" placeholder="Ù…Ø§ Ø§Ø³Ù…ÙƒØŸ" required>
                <input type="number" class="welcome-input" id="monthlyIncome" placeholder="Ù…Ø§ Ù‡Ùˆ Ø¯Ø®Ù„Ùƒ Ø§Ù„Ø´Ù‡Ø±ÙŠØŸ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
                <input type="number" class="welcome-input" id="savingGoal" placeholder="Ù…Ø§ Ù‡Ùˆ Ù‡Ø¯ÙÙƒ Ø§Ù„Ø´Ù‡Ø±ÙŠ Ù„Ù„ØªÙˆÙÙŠØ±ØŸ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
                <button class="welcome-btn" id="startJourneyBtn">Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„Ø© Ø§Ù„ØªÙˆÙÙŠØ±</button>
            </div>
            
            <div class="welcome-footer">
                ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø© Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ ÙÙ‚Ø· - Ù†Ø±ÙƒØ² Ø¹Ù„Ù‰ ØªØ­Ø³ÙŠÙ† ÙˆØ¶Ø¹Ùƒ Ø§Ù„Ù…Ø§Ù„ÙŠ Ø§Ù„Ø´Ø®ØµÙŠ
            </div>
        </div>
    </div>

    <!-- App Container -->
    <div class="app-container" id="appContainer">
        <!-- Header -->
        <header class="app-header">
            <div class="header-top">
                <div class="app-logo">
                    <div class="logo-icon">
                        <i class="fas fa-piggy-bank"></i>
                    </div>
                    <div class="logo-text">Ø¬Ù†ÙŠÙ‡Ø§Øª</div>
                </div>
                <div class="header-actions">
                    <button class="header-action-btn" id="financialHealthBtn">
                        <i class="fas fa-heartbeat"></i>
                    </button>
                    <button class="header-action-btn" id="exportDataBtn">
                        <i class="fas fa-download"></i>
                    </button>
                </div>
            </div>
            
            <div class="balance-card">
                <div class="balance-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¯Ø®Ø±Ø§Øª</div>
                <div class="balance-amount">
                    <span class="amount" id="totalSavings">0</span>
                    <span class="currency">Ø¬.Ù…</span>
                </div>
                <div class="balance-change">
                    <span class="change-positive" id="savingsProgress">Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„Ø© Ø§Ù„ØªÙˆÙÙŠØ±</span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="app-main" id="appMain">
            <!-- Financial Health Meter -->
            <div class="health-meter" id="financialHealth">
                <div class="health-title">ØµØ­ØªÙƒ Ø§Ù„Ù…Ø§Ù„ÙŠØ©</div>
                <div class="health-score" id="healthScore">--</div>
                <div class="health-status" id="healthStatus">Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø§ØªÙƒ</div>
                <div class="health-progress">
                    <div class="health-progress-fill" id="healthProgress" style="width: 0%"></div>
                </div>
                <div class="health-tip" id="healthTip">
                    Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ© ØªÙ‚ÙŠØ³ Ù‚Ø¯Ø±ØªÙƒ Ø¹Ù„Ù‰ Ø¥Ø¯Ø§Ø±Ø© Ø£Ù…ÙˆØ§Ù„Ùƒ ÙˆØªØ­Ù‚ÙŠÙ‚ Ø£Ù‡Ø¯Ø§ÙÙƒ Ø§Ù„Ù…Ø§Ù„ÙŠØ©
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <button class="quick-action-btn" id="addIncomeBtn">
                    <div class="action-icon income">
                        <i class="fas fa-plus"></i>
                    </div>
                    <span class="action-name">Ø¥Ø¶Ø§ÙØ© Ø¯Ø®Ù„</span>
                </button>
                
                <button class="quick-action-btn" id="addExpenseBtn">
                    <div class="action-icon expense">
                        <i class="fas fa-minus"></i>
                    </div>
                    <span class="action-name">ØªØ³Ø¬ÙŠÙ„ Ù…ØµØ±ÙˆÙ</span>
                </button>
                
                <button class="quick-action-btn" id="setGoalBtn">
                    <div class="action-icon savings">
                        <i class="fas fa-bullseye"></i>
                    </div>
                    <span class="action-name">Ù‡Ø¯Ù ØªÙˆÙÙŠØ±</span>
                </button>
                
                <button class="quick-action-btn" id="analysisBtn">
                    <div class="action-icon analysis">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <span class="action-name">ØªØ­Ù„ÙŠÙ„ Ù…Ø§Ù„ÙŠ</span>
                </button>
            </div>

            <!-- Savings Goals -->
            <div class="savings-goals">
                <div class="section-header">
                    <h3 class="section-title">Ø£Ù‡Ø¯Ø§Ù Ø§Ù„ØªÙˆÙÙŠØ±</h3>
                    <a href="#" class="section-link" id="addGoalLink">+ Ø¥Ø¶Ø§ÙØ© Ù‡Ø¯Ù</a>
                </div>
                
                <div class="goals-container" id="goalsContainer">
                    <!-- Will be populated dynamically -->
                </div>
            </div>

            <!-- Practical Tips -->
            <div class="practical-tips">
                <div class="section-header">
                    <h3 class="section-title">Ù†ØµØ§Ø¦Ø­ Ø¹Ù…Ù„ÙŠØ© Ù„ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ø§Ù„</h3>
                </div>
                
                <div class="tips-list" id="tipsList">
                    <!-- Will be populated dynamically -->
                </div>
            </div>

            <!-- Recent Transactions -->
            <div class="section-header">
                <h3 class="section-title">Ø¢Ø®Ø± Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª</h3>
                <a href="#" class="section-link" id="viewAllLink">Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„</a>
            </div>
            
            <div class="transactions-list" id="transactionsList">
                <!-- Will be populated dynamically -->
            </div>
        </main>

        <!-- Floating Action Button -->
        <button class="fab" id="fabBtn">
            <i class="fas fa-plus"></i>
        </button>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <a href="#" class="nav-item active" data-page="home">
                <i class="fas fa-home nav-icon"></i>
                <span class="nav-label">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
            </a>
            <a href="#" class="nav-item" data-page="transactions">
                <i class="fas fa-exchange-alt nav-icon"></i>
                <span class="nav-label">Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª</span>
            </a>
            <a href="#" class="nav-item" data-page="goals">
                <i class="fas fa-bullseye nav-icon"></i>
                <span class="nav-label">Ø§Ù„Ø£Ù‡Ø¯Ø§Ù</span>
            </a>
            <a href="#" class="nav-item" data-page="tools">
                <i class="fas fa-tools nav-icon"></i>
                <span class="nav-label">Ø§Ù„Ø£Ø¯ÙˆØ§Øª</span>
            </a>
        </nav>
    </div>

    <!-- Modals -->
    <div class="modal" id="transactionModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="transactionModalTitle">Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø©</h3>
                <button class="modal-close" id="closeTransactionModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©</label>
                    <select class="form-select" id="transactionType">
                        <option value="income">Ø¯Ø®Ù„</option>
                        <option value="expense">Ù…ØµØ±ÙˆÙ</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ù…Ø¨Ù„Øº (Ø¬.Ù…)</label>
                    <input type="number" class="form-input" id="amountInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Ø§Ù„ÙØ¦Ø©</label>
                    <select class="form-select" id="categorySelect">
                        <!-- Will be populated dynamically -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
                    <input type="date" class="form-input" id="dateInput">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Ø§Ù„ÙˆØµÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                    <input type="text" class="form-input" id="descriptionInput" placeholder="ÙˆØµÙ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©">
                </div>
                
                <div class="form-actions">
                    <button class="btn btn-outline" id="cancelTransaction">Ø¥Ù„ØºØ§Ø¡</button>
                    <button class="btn btn-primary" id="saveTransaction">Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="goalModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Ø¥Ø¶Ø§ÙØ© Ù‡Ø¯Ù ØªÙˆÙÙŠØ±</h3>
                <button class="modal-close" id="closeGoalModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù‡Ø¯Ù</label>
                    <input type="text" class="form-input" id="goalName" placeholder="Ù…Ø«Ø§Ù„: ØªÙˆÙÙŠØ± Ù„Ø´Ø±Ø§Ø¡ Ù‡Ø§ØªÙ">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù (Ø¬.Ù…)</label>
                    <input type="number" class="form-input" id="goalTarget" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ ØªÙˆÙÙŠØ±Ù‡">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯Ø®Ø± Ø­Ø§Ù„ÙŠØ§Ù‹ (Ø¬.Ù…)</label>
                    <input type="number" class="form-input" id="goalCurrent" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯Ø®Ø± Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†">
                </div>
                
                <div class="form-group">
                    <label class="form-label">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</label>
                    <input type="date" class="form-input" id="goalDeadline">
                </div>
                
                <div class="form-group">
                    <label class="form-label">ÙˆØµÙ Ø§Ù„Ù‡Ø¯Ù (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                    <textarea class="form-textarea" id="goalDescription" placeholder="ØµÙ Ù‡Ø¯ÙÙƒ" rows="3"></textarea>
                </div>
                
                <div class="form-actions">
                    <button class="btn btn-outline" id="cancelGoal">Ø¥Ù„ØºØ§Ø¡</button>
                    <button class="btn btn-success" id="saveGoal">Ø­ÙØ¸ Ø§Ù„Ù‡Ø¯Ù</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="financialAnalysisModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ØªØ­Ù„ÙŠÙ„ Ù…Ø§Ù„ÙŠ Ù…ØªÙ‚Ø¯Ù…</h3>
                <button class="modal-close" id="closeAnalysisModal">&times;</button>
            </div>
            <div class="modal-body">
                <div id="analysisContent">
                    <!-- Will be populated dynamically -->
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="financialToolsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Ø£Ø¯ÙˆØ§Øª Ù…Ø§Ù„ÙŠØ© Ù…ÙÙŠØ¯Ø©</h3>
                <button class="modal-close" id="closeToolsModal">&times;</button>
            </div>
            <div class="modal-body">
                <div id="toolsContent">
                    <!-- Will be populated dynamically -->
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <script>
        // ===== ØªØ·Ø¨ÙŠÙ‚ Ø¬Ù†ÙŠÙ‡Ø§Øª - ØªØ·Ø¨ÙŠÙ‚ ØªÙˆÙÙŠØ± Ø­Ù‚ÙŠÙ‚ÙŠ ÙˆØ¹Ù…Ù„ÙŠ =====
        
        // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© - Ù…ØµÙØ±Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ ÙˆØ­Ù‚ÙŠÙ‚ÙŠØ©
        let appData = {
            user: null,
            balance: 0,
            totalIncome: 0,
            totalExpenses: 0,
            totalSavings: 0,
            monthlyIncome: 0,
            monthlySavingGoal: 0,
            transactions: [],
            goals: [],
            categories: {
                income: {
                    salary: { name: "Ø±Ø§ØªØ¨", icon: "ğŸ’°", color: "#2ED573" },
                    freelance: { name: "Ø¹Ù…Ù„ Ø­Ø±", icon: "ğŸ’¼", color: "#00C2A9" },
                    investment: { name: "Ø§Ø³ØªØ«Ù…Ø§Ø±", icon: "ğŸ“ˆ", color: "#FF9F43" },
                    gift: { name: "Ù‡Ø¯ÙŠØ©", icon: "ğŸ", color: "#F368E0" },
                    other_income: { name: "Ø¯Ø®Ù„ Ø¢Ø®Ø±", icon: "ğŸ’µ", color: "#54A0FF" }
                },
                expense: {
                    food: { name: "Ø·Ø¹Ø§Ù…", icon: "ğŸ•", color: "#FF6B6B" },
                    transport: { name: "Ù…ÙˆØ§ØµÙ„Ø§Øª", icon: "ğŸš—", color: "#54A0FF" },
                    shopping: { name: "ØªØ³ÙˆÙ‚", icon: "ğŸ›ï¸", color: "#5F27CD" },
                    bills: { name: "ÙÙˆØ§ØªÙŠØ±", icon: "ğŸ“„", color: "#00D2D3" },
                    entertainment: { name: "ØªØ±ÙÙŠÙ‡", icon: "ğŸ¬", color: "#FF9F43" },
                    health: { name: "ØµØ­Ø©", icon: "ğŸ¥", color: "#1DD1A1" },
                    education: { name: "ØªØ¹Ù„ÙŠÙ…", icon: "ğŸ“š", color: "#F368E0" },
                    other_expense: { name: "Ù…ØµØ±ÙˆÙ Ø¢Ø®Ø±", icon: "ğŸ“¦", color: "#8395A7" }
                }
            }
        };

        // Ù†ØµØ§Ø¦Ø­ Ø¹Ù…Ù„ÙŠØ© Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù„ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ø§Ù„
        const practicalTips = [
            {
                title: "ØªØ®Ø·ÙŠØ· Ø§Ù„ÙˆØ¬Ø¨Ø§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©",
                text: "Ø®Ø·Ø· ÙˆØ¬Ø¨Ø§ØªÙƒ Ù„Ù„Ø£Ø³Ø¨ÙˆØ¹ ÙˆÙ‚Ù… Ø¨Ø´Ø±Ø§Ø¡ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©. ÙŠÙˆÙØ± 25% Ù…Ù† ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ø·Ø¹Ø§Ù….",
                icon: "ğŸ“‹"
            },
            {
                title: "Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„ØªØ³ÙˆÙ‚",
                text: "Ù„Ø§ ØªØªØ³ÙˆÙ‚ Ø¨Ø¯ÙˆÙ† Ù‚Ø§Ø¦Ù…Ø©. Ø§Ù„ØªØ²Ù… Ø¨Ù…Ø§ ØªØ­ØªØ§Ø¬Ù‡ ÙÙ‚Ø· Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ.",
                icon: "ğŸ›’"
            },
            {
                title: "Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù†Ø¸Ø± ÙÙŠ Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª",
                text: "Ø±Ø§Ø¬Ø¹ Ø§Ø´ØªØ±Ø§ÙƒØ§ØªÙƒ Ø§Ù„Ø´Ù‡Ø±ÙŠØ© ÙˆØ£Ù„ØºÙ Ù…Ø§ Ù„Ø§ ØªØ³ØªØ®Ø¯Ù…Ù‡ Ø¨Ø§Ù†ØªØ¸Ø§Ù….",
                icon: "ğŸ“±"
            },
            {
                title: "Ø§Ù„ØµÙŠØ§Ù†Ø© Ø§Ù„ÙˆÙ‚Ø§Ø¦ÙŠØ©",
                text: "Ø§Ù„ØµÙŠØ§Ù†Ø© Ø§Ù„Ø¯ÙˆØ±ÙŠØ© Ù„Ù„Ø³ÙŠØ§Ø±Ø© ÙˆØ§Ù„Ø£Ø¬Ù‡Ø²Ø© ØªÙˆÙØ± ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø©.",
                icon: "ğŸ”§"
            },
            {
                title: "Ø´Ø±Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ¹Ù…Ù„",
                text: "ÙÙƒØ± ÙÙŠ Ø´Ø±Ø§Ø¡ Ø§Ù„ÙƒØªØ¨ ÙˆØ§Ù„Ø£Ø«Ø§Ø« Ø§Ù„Ù…Ø³ØªØ¹Ù…Ù„. ÙŠÙˆÙØ± 50-70% Ù…Ù† Ø§Ù„ØªÙƒÙ„ÙØ©.",
                icon: "ğŸ”„"
            },
            {
                title: "ØªÙ‚Ù„ÙŠÙ„ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø·Ø§Ù‚Ø©",
                text: "Ø£Ø·ÙØ¦ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© ØºÙŠØ± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©. ÙŠÙ…ÙƒÙ† Ø£Ù† ØªÙˆÙØ± 15% Ù…Ù† ÙØ§ØªÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡.",
                icon: "ğŸ’¡"
            }
        ];

        // Ø£Ù‡Ø¯Ø§Ù ØªÙˆÙÙŠØ± Ø¹Ù…Ù„ÙŠØ©
        const practicalGoals = [
            {
                name: "ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦",
                target: 10000,
                current: 0,
                icon: "ğŸ†˜",
                color: "#FF4757",
                description: "Ù…Ø¨Ù„Øº Ù„Ù„Ø·ÙˆØ§Ø±Ø¦ ÙŠØ³Ø§ÙˆÙŠ 3-6 Ø£Ø´Ù‡Ø± Ù…Ù† Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª"
            },
            {
                name: "ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¯ÙŠÙˆÙ†",
                target: 5000,
                current: 0,
                icon: "ğŸ“‰",
                color: "#2D5BFF",
                description: "Ø³Ø¯Ø§Ø¯ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ø¯ÙŠÙˆÙ† Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©"
            },
            {
                name: "Ø§Ù„ØªØ¹Ù„ÙŠÙ… ÙˆØ§Ù„ØªÙ†Ù…ÙŠØ©",
                target: 3000,
                current: 0,
                icon: "ğŸ“",
                color: "#00C2A9",
                description: "ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¯Ø®Ù„"
            }
        ];

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            loadUserData();
        });

        // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function loadUserData() {
            const savedData = localStorage.getItem('genihatRealData');
            if (savedData) {
                try {
                    appData = JSON.parse(savedData);
                    // Ø¥Ø®ÙØ§Ø¡ Ø´Ø§Ø´Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨
                    setTimeout(() => {
                        document.getElementById('welcomeScreen').classList.add('hidden');
                        document.getElementById('appContainer').classList.add('active');
                        updateDashboard();
                        showHomePage();
                    }, 500);
                } catch (e) {
                    console.error("Error loading user data:", e);
                }
            }
        }

        // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function saveUserData() {
            try {
                localStorage.setItem('genihatRealData', JSON.stringify(appData));
            } catch (e) {
                console.error("Error saving user data:", e);
            }
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        function initializeApp() {
            // Ø²Ø± Ø¨Ø¯Ø¡ Ø§Ù„Ø±Ø­Ù„Ø©
            document.getElementById('startJourneyBtn').addEventListener('click', startJourney);
            
            // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø©
            document.getElementById('addIncomeBtn').addEventListener('click', () => {
                showTransactionModal('income');
            });
            
            document.getElementById('addExpenseBtn').addEventListener('click', () => {
                showTransactionModal('expense');
            });
            
            document.getElementById('setGoalBtn').addEventListener('click', showGoalModal);
            document.getElementById('analysisBtn').addEventListener('click', showFinancialAnalysis);
            document.getElementById('addGoalLink').addEventListener('click', (e) => {
                e.preventDefault();
                showGoalModal();
            });
            
            // Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©
            document.getElementById('financialHealthBtn').addEventListener('click', showHealthDetails);
            
            // ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            document.getElementById('exportDataBtn').addEventListener('click', exportData);
            
            // Ø§Ù„Ø²Ø± Ø§Ù„Ø¹Ø§Ø¦Ù…
            document.getElementById('fabBtn').addEventListener('click', () => {
                showTransactionModal('expense');
            });
            
            // Ø§Ù„ØªÙ†Ù‚Ù„
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    handleNavigation(this);
                });
            });
            
            // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
            document.getElementById('closeTransactionModal').addEventListener('click', closeTransactionModal);
            document.getElementById('cancelTransaction').addEventListener('click', closeTransactionModal);
            document.getElementById('saveTransaction').addEventListener('click', saveTransaction);
            
            document.getElementById('closeGoalModal').addEventListener('click', closeGoalModal);
            document.getElementById('cancelGoal').addEventListener('click', closeGoalModal);
            document.getElementById('saveGoal').addEventListener('click', saveGoal);
            
            document.getElementById('closeAnalysisModal').addEventListener('click', closeAnalysisModal);
            document.getElementById('closeToolsModal').addEventListener('click', closeToolsModal);
            
            // Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„
            document.getElementById('viewAllLink').addEventListener('click', (e) => {
                e.preventDefault();
                showTransactionsPage();
            });
            
            // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†ÙˆØ§ÙØ° Ø¨Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.classList.remove('active');
                    }
                });
            });
            
            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ§Ø±ÙŠØ®
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('dateInput').value = today;
            document.getElementById('goalDeadline').value = new Date(new Date().setMonth(new Date().getMonth() + 3)).toISOString().split('T')[0];
        }

        // Ø¨Ø¯Ø¡ Ø±Ø­Ù„Ø© Ø§Ù„ØªÙˆÙÙŠØ±
        function startJourney() {
            const userName = document.getElementById('userName').value;
            const monthlyIncome = parseFloat(document.getElementById('monthlyIncome').value) || 0;
            const savingGoal = parseFloat(document.getElementById('savingGoal').value) || 0;
            
            if (!userName) {
                showToast('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù…Ùƒ');
                return;
            }
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯
            appData.user = {
                name: userName,
                joinDate: new Date().toISOString().split('T')[0],
                monthlyIncome: monthlyIncome,
                monthlySavingGoal: savingGoal
            };
            
            appData.monthlyIncome = monthlyIncome;
            appData.monthlySavingGoal = savingGoal;
            
            // Ø¥Ø¶Ø§ÙØ© Ø£Ù‡Ø¯Ø§Ù Ø¹Ù…Ù„ÙŠØ©
            appData.goals = [...practicalGoals];
            
            // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            saveUserData();
            
            // Ø¥Ø®ÙØ§Ø¡ Ø´Ø§Ø´Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨
            document.getElementById('welcomeScreen').classList.add('hidden');
            setTimeout(() => {
                document.getElementById('appContainer').classList.add('active');
                updateDashboard();
                showHomePage();
                showToast(`Ù…Ø±Ø­Ø¨Ø§Ù‹ ${userName}! Ø¨Ø¯Ø£Øª Ø±Ø­Ù„Ø© Ø§Ù„ØªÙˆÙÙŠØ± Ø¨Ù†Ø¬Ø§Ø­ ğŸ‰`);
            }, 500);
        }

        // ØªØ­Ø¯ÙŠØ« Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        function updateDashboard() {
            if (!appData.user) return;
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            appData.totalIncome = appData.transactions
                .filter(t => t.type === 'income')
                .reduce((sum, t) => sum + t.amount, 0);
            
            appData.totalExpenses = appData.transactions
                .filter(t => t.type === 'expense')
                .reduce((sum, t) => sum + t.amount, 0);
            
            appData.totalSavings = appData.totalIncome - appData.totalExpenses;
            appData.balance = appData.totalSavings;
            
            // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¯Ø®Ø±Ø§Øª
            document.getElementById('totalSavings').textContent = formatCurrency(appData.totalSavings);
            
            // ØªØ­Ø¯ÙŠØ« ØªÙ‚Ø¯Ù… Ø§Ù„Ù…Ø¯Ø®Ø±Ø§Øª
            const progressElement = document.getElementById('savingsProgress');
            if (appData.monthlySavingGoal > 0) {
                const progress = (appData.totalSavings / appData.monthlySavingGoal) * 100;
                progressElement.textContent = `${Math.min(progress, 100).toFixed(1)}% Ù…Ù† Ù‡Ø¯ÙÙƒ Ø§Ù„Ø´Ù‡Ø±ÙŠ`;
                progressElement.className = progress >= 100 ? 'change-positive' : 'change-positive';
            } else if (appData.totalSavings > 0) {
                progressElement.textContent = `+${formatCurrency(appData.totalSavings)} Ù…Ø¯Ø®Ø±Ø§Øª`;
                progressElement.className = 'change-positive';
            } else if (appData.totalExpenses > 0) {
                progressElement.textContent = `-${formatCurrency(appData.totalExpenses)} Ù…ØµØ±ÙˆÙØ§Øª`;
                progressElement.className = 'change-negative';
            } else {
                progressElement.textContent = 'Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø§ØªÙƒ';
                progressElement.className = 'change-positive';
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©
            updateFinancialHealth();
            
            // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            saveUserData();
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©
        function updateFinancialHealth() {
            if (appData.transactions.length === 0) {
                document.getElementById('healthScore').textContent = "--";
                document.getElementById('healthStatus').textContent = "Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø§ØªÙƒ";
                document.getElementById('healthProgress').style.width = "0%";
                document.getElementById('healthTip').textContent = "Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ© ØªÙ‚ÙŠØ³ Ù‚Ø¯Ø±ØªÙƒ Ø¹Ù„Ù‰ Ø¥Ø¯Ø§Ø±Ø© Ø£Ù…ÙˆØ§Ù„Ùƒ ÙˆØªØ­Ù‚ÙŠÙ‚ Ø£Ù‡Ø¯Ø§ÙÙƒ Ø§Ù„Ù…Ø§Ù„ÙŠØ©";
                return;
            }
            
            // Ø­Ø³Ø§Ø¨ Ù†Ù‚Ø§Ø· Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©
            let score = 50; // Ù†Ù‚Ø·Ø© Ø£Ø³Ø§Ø³ÙŠØ©
            
            // Ø¹Ø§Ù…Ù„ 1: Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙˆÙÙŠØ±
            if (appData.monthlyIncome > 0) {
                const savingRate = (appData.totalSavings / appData.monthlyIncome) * 100;
                if (savingRate >= 20) score += 30;
                else if (savingRate >= 10) score += 20;
                else if (savingRate >= 5) score += 10;
                else if (savingRate > 0) score += 5;
                else score -= 10;
            }
            
            // Ø¹Ø§Ù…Ù„ 2: ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù
            const goalsProgress = appData.goals.reduce((sum, goal) => {
                return sum + (goal.target > 0 ? (goal.current / goal.target) * 100 : 0);
            }, 0) / (appData.goals.length || 1);
            
            if (goalsProgress >= 100) score += 20;
            else if (goalsProgress >= 50) score += 10;
            else if (goalsProgress > 0) score += 5;
            
            // Ø¹Ø§Ù…Ù„ 3: ØªÙ†ÙˆØ¹ Ø§Ù„Ø¯Ø®Ù„
            const incomeCategories = new Set(appData.transactions
                .filter(t => t.type === 'income')
                .map(t => t.category)
            ).size;
            
            if (incomeCategories >= 3) score += 10;
            else if (incomeCategories >= 2) score += 5;
            
            // Ø¹Ø§Ù…Ù„ 4: Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª
            if (appData.totalExpenses > 0 && appData.monthlyIncome > 0) {
                const expenseRatio = (appData.totalExpenses / appData.monthlyIncome) * 100;
                if (expenseRatio <= 50) score += 10;
                else if (expenseRatio <= 70) score += 5;
                else if (expenseRatio > 90) score -= 10;
            }
            
            // Ø¶Ø¨Ø· Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¨ÙŠÙ† 0 Ùˆ 100
            score = Math.max(0, Math.min(100, Math.round(score)));
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
            document.getElementById('healthScore').textContent = score;
            document.getElementById('healthProgress').style.width = `${score}%`;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© ÙˆØ§Ù„Ù†ØµÙŠØ­Ø©
            let status = "";
            let tip = "";
            
            if (score >= 80) {
                status = "Ù…Ù…ØªØ§Ø²Ø© ğŸ‰";
                tip = "Ø£Ø¯Ø§Ø¡ Ø±Ø§Ø¦Ø¹! Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø¹Ø§Ø¯Ø§ØªÙƒ Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙŠØ¯Ø©.";
            } else if (score >= 60) {
                status = "Ø¬ÙŠØ¯Ø© ğŸ‘";
                tip = "Ø£Ø¯Ø§Ø¡ Ø¬ÙŠØ¯. ÙŠÙ…ÙƒÙ†Ùƒ ØªØ­Ø³ÙŠÙ†Ù‡ Ø¨Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªØ®Ø·ÙŠØ· ÙˆØ§Ù„Ø§Ù„ØªØ²Ø§Ù….";
            } else if (score >= 40) {
                status = "Ù…ØªÙˆØ³Ø·Ø© âš ï¸";
                tip = "Ù‡Ù†Ø§Ùƒ Ù…Ø¬Ø§Ù„ Ù„Ù„ØªØ­Ø³ÙŠÙ†. Ø±Ø§Ø¬Ø¹ Ù…ØµØ±ÙˆÙØ§ØªÙƒ ÙˆØ­Ø¯Ø¯ Ø£ÙˆÙ„ÙˆÙŠØ§ØªÙƒ.";
            } else {
                status = "ØªØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ† ğŸ’¡";
                tip = "Ø§Ø¨Ø¯Ø£ Ø¨ØªØ³Ø¬ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ù…Ø¹Ø§Ù…Ù„Ø§ØªÙƒ ÙˆÙˆØ¶Ø¹ Ø£Ù‡Ø¯Ø§Ù ØµØºÙŠØ±Ø© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ­Ù‚ÙŠÙ‚.";
            }
            
            document.getElementById('healthStatus').textContent = status;
            document.getElementById('healthTip').textContent = tip;
        }

        // Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©
        function showHealthDetails() {
            const modal = document.createElement('div');
            modal.className = 'modal active';
            
            let content = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©</h3>
                        <button class="modal-close" onclick="this.parentElement.parentElement.parentElement.remove()">&times;</button>
                    </div>
                    <div class="modal-body">
            `;
            
            if (appData.transactions.length === 0) {
                content += `
                    <div class="empty-state">
                        <i class="fas fa-heartbeat empty-icon"></i>
                        <div class="empty-text">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§ÙÙŠØ© Ù„Ù„ØªØ­Ù„ÙŠÙ„</div>
                        <p style="font-size: 14px; color: var(--gray); margin-top: 10px;">Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø§ØªÙƒ Ù„ØªØ­Ù„ÙŠÙ„ ØµØ­ØªÙƒ Ø§Ù„Ù…Ø§Ù„ÙŠØ©</p>
                    </div>
                `;
            } else {
                // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†Ù‚Ø§Ø·
                content += `
                    <div style="margin-bottom: 20px;">
                        <div style="font-weight: 700; margin-bottom: 15px;">ğŸ” ØªØ­Ù„ÙŠÙ„ Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© ÙˆØ§Ù„Ø¶Ø¹Ù:</div>
                        
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                `;
                
                // Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙˆÙÙŠØ±
                if (appData.monthlyIncome > 0) {
                    const savingRate = (appData.totalSavings / appData.monthlyIncome) * 100;
                    let savingStatus = savingRate >= 20 ? "âœ… Ù‚ÙˆØ©" : savingRate >= 10 ? "âš ï¸ Ù…Ù‚Ø¨ÙˆÙ„" : "ğŸ’¡ ÙŠØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ†";
                    content += `
                        <div style="padding: 10px; background: var(--light); border-radius: var(--border-radius-sm);">
                            <div style="font-weight: 600;">Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙˆÙÙŠØ±: ${savingRate.toFixed(1)}%</div>
                            <div style="font-size: 14px; color: var(--gray);">${savingStatus} - Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ 20% Ù…Ù† Ø§Ù„Ø¯Ø®Ù„</div>
                        </div>
                    `;
                }
                
                // ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù
                const goalsProgress = appData.goals.reduce((sum, goal) => {
                    return sum + (goal.target > 0 ? (goal.current / goal.target) * 100 : 0);
                }, 0) / (appData.goals.length || 1);
                
                let goalsStatus = goalsProgress >= 100 ? "âœ… Ù…Ù…ØªØ§Ø²" : goalsProgress >= 50 ? "âš ï¸ Ø¬ÙŠØ¯" : "ğŸ’¡ ÙŠØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ†";
                content += `
                    <div style="padding: 10px; background: var(--light); border-radius: var(--border-radius-sm);">
                        <div style="font-weight: 600;">ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù: ${goalsProgress.toFixed(1)}%</div>
                        <div style="font-size: 14px; color: var(--gray);">${goalsStatus} - ${appData.goals.length} Ù‡Ø¯Ù</div>
                    </div>
                `;
                
                // ØªÙ†ÙˆØ¹ Ø§Ù„Ø¯Ø®Ù„
                const incomeCategories = new Set(appData.transactions
                    .filter(t => t.type === 'income')
                    .map(t => t.category)
                ).size;
                
                let incomeStatus = incomeCategories >= 3 ? "âœ… Ù…Ù…ØªØ§Ø²" : incomeCategories >= 2 ? "âš ï¸ Ø¬ÙŠØ¯" : "ğŸ’¡ ÙŠØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ†";
                content += `
                    <div style="padding: 10px; background: var(--light); border-radius: var(--border-radius-sm);">
                        <div style="font-weight: 600;">ØªÙ†ÙˆØ¹ Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø¯Ø®Ù„: ${incomeCategories}</div>
                        <div style="font-size: 14px; color: var(--gray);">${incomeStatus} - Ù…ØµØ§Ø¯Ø± Ø¯Ø®Ù„ Ù…ØªÙ†ÙˆØ¹Ø© ØªÙ‚Ù„Ù„ Ø§Ù„Ù…Ø®Ø§Ø·Ø±</div>
                    </div>
                `;
                
                content += `
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px; padding: 15px; background: #e8f4fd; border-radius: var(--border-radius-sm); border-right: 4px solid var(--primary);">
                        <div style="font-weight: 700; margin-bottom: 10px;">ğŸ’¡ ØªÙˆØµÙŠØ§Øª Ù„Ù„ØªØ­Ø³ÙŠÙ†:</div>
                        <div style="font-size: 14px; color: var(--dark); line-height: 1.6;">
                `;
                
                // ØªÙˆØµÙŠØ§Øª Ù…Ø®ØµØµØ©
                const recommendations = [];
                
                if (appData.monthlyIncome > 0) {
                    const savingRate = (appData.totalSavings / appData.monthlyIncome) * 100;
                    if (savingRate < 10) {
                        recommendations.push("Ø­Ø§ÙˆÙ„ Ø²ÙŠØ§Ø¯Ø© Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙˆÙÙŠØ± Ø¥Ù„Ù‰ 10% Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù…Ù† Ø¯Ø®Ù„Ùƒ");
                    }
                }
                
                if (appData.goals.some(g => (g.current / g.target) < 0.5)) {
                    recommendations.push("Ø±ÙƒØ² Ø¹Ù„Ù‰ Ù‡Ø¯Ù Ø£Ùˆ Ù‡Ø¯ÙÙŠÙ† Ù„ØªØ­Ù‚ÙŠÙ‚ ØªÙ‚Ø¯Ù… Ù…Ù„Ù…ÙˆØ³");
                }
                
                if (incomeCategories < 2 && appData.transactions.filter(t => t.type === 'income').length > 0) {
                    recommendations.push("Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…ØµØ§Ø¯Ø± Ø¯Ø®Ù„ Ø¥Ø¶Ø§ÙÙŠØ© Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ù…ØµØ¯Ø± ÙˆØ§Ø­Ø¯");
                }
                
                if (recommendations.length > 0) {
                    content += "<ul style='padding-right: 20px;'>";
                    recommendations.forEach(rec => {
                        content += `<li style='margin-bottom: 8px;'>${rec}</li>`;
                    });
                    content += "</ul>";
                } else {
                    content += "Ø£Ø¯Ø§Ø¡ Ù…Ù…ØªØ§Ø²! Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø¹Ø§Ø¯Ø§ØªÙƒ Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙŠØ¯Ø©.";
                }
                
                content += `
                        </div>
                    </div>
                `;
            }
            
            content += `
                        <div class="form-actions" style="margin-top: 30px;">
                            <button class="btn btn-primary" onclick="this.parentElement.parentElement.parentElement.remove()">
                                ÙÙ‡Ù…ØªØŒ Ø´ÙƒØ±Ø§Ù‹!
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            modal.innerHTML = content;
            document.body.appendChild(modal);
        }

        // Ø¹Ø±Ø¶ ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        function showHomePage() {
            updateDashboard();
            
            // ØªØ­Ø¯ÙŠØ« Ø£Ù‡Ø¯Ø§Ù Ø§Ù„ØªÙˆÙÙŠØ±
            const goalsContainer = document.getElementById('goalsContainer');
            if (appData.goals.length === 0) {
                goalsContainer.innerHTML = `
                    <div class="empty-state" style="grid-column: span 2;">
                        <div class="empty-icon">
                            <i class="fas fa-bullseye"></i>
                        </div>
                        <div class="empty-text">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù‡Ø¯Ø§Ù Ø­Ø§Ù„ÙŠØ§Ù‹</div>
                        <button class="btn btn-primary" onclick="showGoalModal()" style="margin-top: 10px;">
                            Ø¥Ø¶Ø§ÙØ© Ø£ÙˆÙ„ Ù‡Ø¯Ù
                        </button>
                    </div>
                `;
            } else {
                goalsContainer.innerHTML = appData.goals.map((goal, index) => {
                    const progress = goal.target > 0 ? (goal.current / goal.target * 100) : 0;
                    return `
                        <div class="goal-card" onclick="editGoal(${index})">
                            <div class="goal-icon" style="background: ${goal.color}">
                                ${goal.icon}
                            </div>
                            <div class="goal-name">${goal.name}</div>
                            <div class="goal-amount">${formatCurrency(goal.current)} / ${formatCurrency(goal.target)}</div>
                            <div class="goal-progress">
                                <div class="goal-progress-fill" style="width: ${Math.min(progress, 100)}%"></div>
                            </div>
                        </div>
                    `;
                }).join('');
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
            const tipsList = document.getElementById('tipsList');
            tipsList.innerHTML = practicalTips.slice(0, 3).map(tip => `
                <div class="tip-item">
                    <div class="tip-icon">${tip.icon}</div>
                    <div class="tip-content">
                        <div class="tip-title">${tip.title}</div>
                        <div class="tip-text">${tip.text}</div>
                    </div>
                </div>
            `).join('');
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø©
            updateRecentTransactions();
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø©
        function updateRecentTransactions() {
            const transactionsList = document.getElementById('transactionsList');
            
            if (appData.transactions.length === 0) {
                transactionsList.innerHTML = `
                    <div class="empty-state" style="padding: 20px;">
                        <div class="empty-icon">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <div class="empty-text">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</div>
                        <button class="btn btn-primary" onclick="showTransactionModal('income')" style="margin-top: 10px;">
                            Ø¥Ø¶Ø§ÙØ© Ø£ÙˆÙ„ Ù…Ø¹Ø§Ù…Ù„Ø©
                        </button>
                    </div>
                `;
                return;
            }
            
            // Ø¹Ø±Ø¶ Ø¢Ø®Ø± 5 Ù…Ø¹Ø§Ù…Ù„Ø§Øª
            const recentTransactions = [...appData.transactions]
                .sort((a, b) => new Date(b.date) - new Date(a.date))
                .slice(0, 5);
            
            transactionsList.innerHTML = recentTransactions.map(transaction => {
                const category = appData.categories[transaction.type][transaction.category];
                const isIncome = transaction.type === 'income';
                
                return `
                    <div class="transaction-item" onclick="editTransaction('${transaction.id}')">
                        <div class="transaction-icon" style="background: ${category.color}">
                            ${category.icon}
                        </div>
                        <div class="transaction-details">
                            <div class="transaction-title">${transaction.description || category.name}</div>
                            <div class="transaction-info">
                                <span>${formatDate(transaction.date)}</span>
                                <span>${category.name}</span>
                            </div>
                        </div>
                        <div class="transaction-amount ${isIncome ? 'income' : 'expense'}">
                            ${isIncome ? '+' : '-'}${formatCurrency(transaction.amount)}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Ø¹Ø±Ø¶ ØµÙØ­Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª
        function showTransactionsPage() {
            document.getElementById('appMain').innerHTML = `
                <div class="section-header">
                    <h3 class="section-title">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª</h3>
                    <button class="btn btn-primary" onclick="showTransactionModal('income')" style="padding: 8px 16px; font-size: 14px;">
                        + Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø©
                    </button>
                </div>
                
                <div class="transactions-list" id="allTransactionsList">
                    ${getAllTransactionsHTML()}
                </div>
                
                <div class="stats-container" style="margin-top: 20px;">
                    <div class="stat-card" style="background: white; padding: 20px; border-radius: var(--border-radius); box-shadow: var(--shadow);">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                            <div>
                                <div style="font-size: 14px; color: var(--gray);">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¯Ø®Ù„</div>
                                <div style="font-size: 24px; font-weight: 800; color: var(--success);">${formatCurrency(appData.totalIncome)}</div>
                            </div>
                            <div>
                                <div style="font-size: 14px; color: var(--gray);">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</div>
                                <div style="font-size: 24px; font-weight: 800; color: var(--danger);">${formatCurrency(appData.totalExpenses)}</div>
                            </div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: var(--light); border-radius: var(--border-radius-sm);">
                            <div style="font-size: 14px; color: var(--gray);">ØµØ§ÙÙŠ Ø§Ù„Ù…Ø¯Ø®Ø±Ø§Øª</div>
                            <div style="font-size: 32px; font-weight: 800; color: var(--primary);">${formatCurrency(appData.totalSavings)}</div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Ø¹Ø±Ø¶ ØµÙØ­Ø© Ø§Ù„Ø£Ù‡Ø¯Ø§Ù
        function showGoalsPage() {
            document.getElementById('appMain').innerHTML = `
                <div class="section-header">
                    <h3 class="section-title">Ø£Ù‡Ø¯Ø§Ù Ø§Ù„ØªÙˆÙÙŠØ±</h3>
                    <button class="btn btn-primary" onclick="showGoalModal()" style="padding: 8px 16px; font-size: 14px;">
                        + Ø¥Ø¶Ø§ÙØ© Ù‡Ø¯Ù
                    </button>
                </div>
                
                <div class="goals-container" style="margin-bottom: 20px;">
                    ${appData.goals.map((goal, index) => {
                        const progress = goal.target > 0 ? (goal.current / goal.target * 100) : 0;
                        const remaining = goal.target - goal.current;
                        const daysLeft = goal.deadline ? Math.ceil((new Date(goal.deadline) - new Date()) / (1000 * 60 * 60 * 24)) : 0;
                        
                        return `
                            <div class="goal-card" onclick="editGoal(${index})">
                                <div class="goal-icon" style="background: ${goal.color}">
                                    ${goal.icon}
                                </div>
                                <div class="goal-name">${goal.name}</div>
                                <div class="goal-amount">${formatCurrency(goal.current)} / ${formatCurrency(goal.target)}</div>
                                <div class="goal-progress">
                                    <div class="goal-progress-fill" style="width: ${Math.min(progress, 100)}%"></div>
                                </div>
                                <div style="margin-top: 10px; font-size: 12px; color: var(--gray);">
                                    ${remaining > 0 ? `Ù…ØªØ¨Ù‚ÙŠ: ${formatCurrency(remaining)}` : 'ğŸ‰ ØªÙ… ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ù‡Ø¯Ù!'}
                                    ${daysLeft > 0 ? ` | ${daysLeft} ÙŠÙˆÙ… Ù…ØªØ¨Ù‚ÙŠ` : ''}
                                </div>
                                ${goal.description ? `<div style="margin-top: 5px; font-size: 12px; color: var(--gray);">${goal.description}</div>` : ''}
                            </div>
                        `;
                    }).join('')}
                </div>
                
                <div class="progress-container" style="background: white; padding: 20px; border-radius: var(--border-radius); box-shadow: var(--shadow);">
                    <div class="progress-header">
                        <span>Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø´Ù‡Ø±ÙŠ</span>
                        <span>${((appData.totalSavings / (appData.monthlySavingGoal || 1)) * 100).toFixed(1)}%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${Math.min((appData.totalSavings / (appData.monthlySavingGoal || 1)) * 100, 100)}%"></div>
                    </div>
                    <div style="text-align: center; margin-top: 10px; color: var(--gray); font-size: 14px;">
                        ${formatCurrency(appData.totalSavings)} Ù…Ù† ${formatCurrency(appData.monthlySavingGoal)} Ù‡Ø¯Ù Ø´Ù‡Ø±ÙŠ
                    </div>
                </div>
            `;
        }

        // Ø¹Ø±Ø¶ ØµÙØ­Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Øª
        function showToolsPage() {
            document.getElementById('appMain').innerHTML = `
                <div style="background: white; padding: 30px 20px; border-radius: var(--border-radius); box-shadow: var(--shadow); text-align: center; margin-bottom: 20px;">
                    <div style="width: 100px; height: 100px; background: linear-gradient(135deg, var(--primary), var(--primary-dark)); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 40px; color: white; margin: 0 auto 15px;">
                        <i class="fas fa-tools"></i>
                    </div>
                    <div style="font-size: 24px; font-weight: 800; margin-bottom: 5px;">Ø£Ø¯ÙˆØ§Øª Ù…Ø§Ù„ÙŠØ© Ù…ÙÙŠØ¯Ø©</div>
                    <div style="color: var(--gray); margin-bottom: 20px;">Ø£Ø¯ÙˆØ§Øª Ø¹Ù…Ù„ÙŠØ© Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ Ø¥Ø¯Ø§Ø±Ø© Ø£Ù…ÙˆØ§Ù„Ùƒ</div>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 20px;">
                    <div class="tool-card" style="background: white; padding: 20px; border-radius: var(--border-radius); box-shadow: var(--shadow); text-align: center; cursor: pointer;" onclick="showBudgetCalculator()">
                        <div style="width: 60px; height: 60px; background: rgba(45, 91, 255, 0.1); border-radius: 15px; display: flex; align-items: center; justify-content: center; font-size: 24px; color: var(--primary); margin: 0 auto 15px;">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <div style="font-weight: 700; margin-bottom: 5px;">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©</div>
                        <div style="font-size: 12px; color: var(--gray);">Ø­Ø³Ø§Ø¨ Ù…ÙŠØ²Ø§Ù†ÙŠØªÙƒ Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</div>
                    </div>
                    
                    <div class="tool-card" style="background: white; padding: 20px; border-radius: var(--border-radius); box-shadow: var(--shadow); text-align: center; cursor: pointer;" onclick="showDebtCalculator()">
                        <div style="width: 60px; height: 60px; background: rgba(255, 71, 87, 0.1); border-radius: 15px; display: flex; align-items: center; justify-content: center; font-size: 24px; color: var(--danger); margin: 0 auto 15px;">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div style="font-weight: 700; margin-bottom: 5px;">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¯ÙŠÙˆÙ†</div>
                        <div style="font-size: 12px; color: var(--gray);">ØªØ®Ø·ÙŠØ· Ø³Ø¯Ø§Ø¯ Ø§Ù„Ø¯ÙŠÙˆÙ†</div>
                    </div>
                    
                    <div class="tool-card" style="background: white; padding: 20px; border-radius: var(--border-radius); box-shadow: var(--shadow); text-align: center; cursor: pointer;" onclick="showSavingPlan()">
                        <div style="width: 60px; height: 60px; background: rgba(0, 194, 169, 0.1); border-radius: 15px; display: flex; align-items: center; justify-content: center; font-size: 24px; color: var(--secondary); margin: 0 auto 15px;">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div style="font-weight: 700; margin-bottom: 5px;">Ø®Ø·Ø© Ø§Ù„ØªÙˆÙÙŠØ±</div>
                        <div style="font-size: 12px; color: var(--gray);">Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø·Ø© ØªÙˆÙÙŠØ± Ù…Ø®ØµØµØ©</div>
                    </div>
                    
                    <div class="tool-card" style="background: white; padding: 20px; border-radius: var(--border-radius); box-shadow: var(--shadow); text-align: center; cursor: pointer;" onclick="showExpenseAnalyzer()">
                        <div style="width: 60px; height: 60px; background: rgba(255, 159, 67, 0.1); border-radius: 15px; display: flex; align-items: center; justify-content: center; font-size: 24px; color: #FF9F43; margin: 0 auto 15px;">
                            <i class="fas fa-search-dollar"></i>
                        </div>
                        <div style="font-weight: 700; margin-bottom: 5px;">Ù…Ø­Ù„Ù„ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</div>
                        <div style="font-size: 12px; color: var(--gray);">ØªØ­Ù„ÙŠÙ„ Ø£Ù†Ù…Ø§Ø· ØµØ±ÙÙƒ</div>
                    </div>
                </div>
                
                <div style="background: white; padding: 20px; border-radius: var(--border-radius); box-shadow: var(--shadow);">
                    <div style="font-weight: 700; margin-bottom: 15px;">ğŸ“Š Ø£Ø¯ÙˆØ§Øª Ø¥Ø¶Ø§ÙÙŠØ©</div>
                    
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <div style="padding: 15px; background: var(--light); border-radius: var(--border-radius-sm); display: flex; justify-content: space-between; align-items: center; cursor: pointer;" onclick="exportData()">
                            <div>
                                <div style="font-weight: 600;">ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>
                                <div style="font-size: 12px; color: var(--gray);">Ø­ÙØ¸ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ù…Ù† Ø¨ÙŠØ§Ù†Ø§ØªÙƒ</div>
                            </div>
                            <i class="fas fa-download" style="color: var(--primary);"></i>
                        </div>
                        
                        <div style="padding: 15px; background: var(--light); border-radius: var(--border-radius-sm); display: flex; justify-content: space-between; align-items: center; cursor: pointer;" onclick="importData()">
                            <div>
                                <div style="font-weight: 600;">Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>
                                <div style="font-size: 12px; color: var(--gray);">Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©</div>
                            </div>
                            <i class="fas fa-upload" style="color: var(--primary);"></i>
                        </div>
                        
                        <div style="padding: 15px; background: rgba(255, 71, 87, 0.1); border-radius: var(--border-radius-sm); display: flex; justify-content: space-between; align-items: center; cursor: pointer;" onclick="confirmReset()">
                            <div>
                                <div style="font-weight: 600; color: var(--danger);">Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>
                                <div style="font-size: 12px; color: var(--danger); opacity: 0.8;">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</div>
                            </div>
                            <i class="fas fa-trash" style="color: var(--danger);"></i>
                        </div>
                    </div>
                </div>
            `;
        }

        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„ØªÙ†Ù‚Ù„
        function handleNavigation(navItem) {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            navItem.classList.add('active');
            
            const page = navItem.dataset.page;
            
            switch(page) {
                case 'home':
                    showHomePage();
                    break;
                case 'transactions':
                    showTransactionsPage();
                    break;
                case 'goals':
                    showGoalsPage();
                    break;
                case 'tools':
                    showToolsPage();
                    break;
            }
        }

        // Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©
        function showTransactionModal(type) {
            if (!appData.user) return;
            
            const modal = document.getElementById('transactionModal');
            const title = document.getElementById('transactionModalTitle');
            const typeSelect = document.getElementById('transactionType');
            const categorySelect = document.getElementById('categorySelect');
            
            title.textContent = type === 'income' ? 'Ø¥Ø¶Ø§ÙØ© Ø¯Ø®Ù„' : 'ØªØ³Ø¬ÙŠÙ„ Ù…ØµØ±ÙˆÙ';
            typeSelect.value = type;
            
            // ØªØ­Ø¯ÙŠØ« Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ÙØ¦Ø§Øª
            categorySelect.innerHTML = '';
            const categories = appData.categories[type];
            
            Object.keys(categories).forEach(key => {
                const category = categories[key];
                const option = document.createElement('option');
                option.value = key;
                option.textContent = `${category.icon} ${category.name}`;
                categorySelect.appendChild(option);
            });
            
            // ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø§Ù„ÙŠ
            document.getElementById('dateInput').value = new Date().toISOString().split('T')[0];
            
            modal.classList.add('active');
            document.getElementById('amountInput').focus();
        }

        // Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©
        function saveTransaction() {
            const type = document.getElementById('transactionType').value;
            const amount = parseFloat(document.getElementById('amountInput').value);
            const category = document.getElementById('categorySelect').value;
            const date = document.getElementById('dateInput').value;
            const description = document.getElementById('descriptionInput').value;
            
            if (!amount || amount <= 0) {
                showToast('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¨Ù„Øº ØµØ­ÙŠØ­');
                return;
            }
            
            if (!category) {
                showToast('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ÙØ¦Ø©');
                return;
            }
            
            const transaction = {
                id: Date.now().toString(),
                type: type,
                amount: amount,
                category: category,
                description: description,
                date: date,
                timestamp: new Date().toISOString()
            };
            
            appData.transactions.push(transaction);
            
            closeTransactionModal();
            updateDashboard();
            
            // Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ Ù…Ø®ØµØµØ©
            const categoryName = appData.categories[type][category].name;
            const message = type === 'income' 
                ? `ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø¯Ø®Ù„ Ø¬Ø¯ÙŠØ¯: ${formatCurrency(amount)} (${categoryName})`
                : `ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ù…ØµØ±ÙˆÙ Ø¬Ø¯ÙŠØ¯: ${formatCurrency(amount)} (${categoryName})`;
            
            showToast(message);
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            const activePage = document.querySelector('.nav-item.active').dataset.page;
            if (activePage === 'home') {
                updateRecentTransactions();
            } else if (activePage === 'transactions') {
                document.getElementById('allTransactionsList').innerHTML = getAllTransactionsHTML();
            }
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©
        function closeTransactionModal() {
            document.getElementById('transactionModal').classList.remove('active');
            document.getElementById('amountInput').value = '';
            document.getElementById('descriptionInput').value = '';
        }

        // Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù‡Ø¯Ù
        function showGoalModal() {
            if (!appData.user) return;
            
            const modal = document.getElementById('goalModal');
            modal.classList.add('active');
            document.getElementById('goalName').focus();
        }

        // Ø­ÙØ¸ Ø§Ù„Ù‡Ø¯Ù
        function saveGoal() {
            const name = document.getElementById('goalName').value;
            const target = parseFloat(document.getElementById('goalTarget').value);
            const current = parseFloat(document.getElementById('goalCurrent').value) || 0;
            const deadline = document.getElementById('goalDeadline').value;
            const description = document.getElementById('goalDescription').value;
            
            if (!name || !target || target <= 0) {
                showToast('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‡Ø¯Ù Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­');
                return;
            }
            
            const goal = {
                id: Date.now().toString(),
                name: name,
                target: target,
                current: current,
                deadline: deadline,
                description: description,
                icon: "ğŸ¯",
                color: getRandomColor(),
                createdAt: new Date().toISOString()
            };
            
            appData.goals.push(goal);
            
            closeGoalModal();
            updateDashboard();
            showToast(`ØªÙ… Ø¥Ø¶Ø§ÙØ© Ù‡Ø¯Ù Ø¬Ø¯ÙŠØ¯: ${name}`);
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
            const activePage = document.querySelector('.nav-item.active').dataset.page;
            if (activePage === 'home') {
                showHomePage();
            } else if (activePage === 'goals') {
                showGoalsPage();
            }
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù‡Ø¯Ù
        function closeGoalModal() {
            document.getElementById('goalModal').classList.remove('active');
            document.getElementById('goalName').value = '';
            document.getElementById('goalTarget').value = '';
            document.getElementById('goalCurrent').value = '';
            document.getElementById('goalDescription').value = '';
        }

        // ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù‡Ø¯Ù
        function editGoal(index) {
            if (index >= 0 && index < appData.goals.length) {
                const goal = appData.goals[index];
                
                document.getElementById('goalName').value = goal.name;
                document.getElementById('goalTarget').value = goal.target;
                document.getElementById('goalCurrent').value = goal.current;
                document.getElementById('goalDeadline').value = goal.deadline || '';
                document.getElementById('goalDescription').value = goal.description || '';
                
                // ØªØºÙŠÙŠØ± Ø§Ù„Ù†Øµ ÙÙŠ Ø§Ù„Ù†Ø§ÙØ°Ø©
                document.querySelector('#goalModal .modal-title').textContent = 'ØªØ¹Ø¯ÙŠÙ„ Ù‡Ø¯Ù Ø§Ù„ØªÙˆÙÙŠØ±';
                
                // ØªØºÙŠÙŠØ± Ø²Ø± Ø§Ù„Ø­ÙØ¸
                const saveBtn = document.getElementById('saveGoal');
                saveBtn.textContent = 'ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‡Ø¯Ù';
                saveBtn.onclick = function() {
                    updateGoal(index);
                };
                
                document.getElementById('goalModal').classList.add('active');
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‡Ø¯Ù
        function updateGoal(index) {
            const name = document.getElementById('goalName').value;
            const target = parseFloat(document.getElementById('goalTarget').value);
            const current = parseFloat(document.getElementById('goalCurrent').value) || 0;
            const deadline = document.getElementById('goalDeadline').value;
            const description = document.getElementById('goalDescription').value;
            
            if (!name || !target || target <= 0) {
                showToast('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‡Ø¯Ù Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­');
                return;
            }
            
            if (current > target) {
                showToast('Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯Ø®Ø± Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ù‡Ø¯Ù');
                return;
            }
            
            appData.goals[index] = {
                ...appData.goals[index],
                name: name,
                target: target,
                current: current,
                deadline: deadline,
                description: description
            };
            
            closeGoalModal();
            saveUserData();
            showToast(`ØªÙ… ØªØ­Ø¯ÙŠØ« Ù‡Ø¯Ù: ${name}`);
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø²Ø± Ø§Ù„Ø­ÙØ¸
            const saveBtn = document.getElementById('saveGoal');
            saveBtn.textContent = 'Ø­ÙØ¸ Ø§Ù„Ù‡Ø¯Ù';
            saveBtn.onclick = saveGoal;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
            const activePage = document.querySelector('.nav-item.active').dataset.page;
            if (activePage === 'home') {
                showHomePage();
            } else if (activePage === 'goals') {
                showGoalsPage();
            }
        }

        // Ø¹Ø±Ø¶ ØªØ­Ù„ÙŠÙ„ Ù…Ø§Ù„ÙŠ Ù…ØªÙ‚Ø¯Ù…
        function showFinancialAnalysis() {
            const modal = document.getElementById('financialAnalysisModal');
            const content = document.getElementById('analysisContent');
            
            if (appData.transactions.length === 0) {
                content.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-chart-line empty-icon"></i>
                        <div class="empty-text">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§ÙÙŠØ© Ù„Ù„ØªØ­Ù„ÙŠÙ„</div>
                        <p style="font-size: 14px; color: var(--gray); margin-top: 10px;">Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø§ØªÙƒ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªØ­Ù„ÙŠÙ„ Ù…ÙØµÙ„</p>
                    </div>
                `;
            } else {
                // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©
                const currentMonth = new Date().getMonth();
                const currentYear = new Date().getFullYear();
                
                const monthlyTransactions = appData.transactions.filter(t => {
                    const date = new Date(t.date);
                    return date.getMonth() === currentMonth && date.getFullYear() === currentYear;
                });
                
                const monthlyIncome = monthlyTransactions
                    .filter(t => t.type === 'income')
                    .reduce((sum, t) => sum + t.amount, 0);
                
                const monthlyExpenses = monthlyTransactions
                    .filter(t => t.type === 'expense')
                    .reduce((sum, t) => sum + t.amount, 0);
                
                const monthlySavings = monthlyIncome - monthlyExpenses;
                
                // ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙØ¦Ø§Øª
                const categoryAnalysis = {};
                monthlyTransactions
                    .filter(t => t.type === 'expense')
                    .forEach(t => {
                        const category = t.category;
                        categoryAnalysis[category] = (categoryAnalysis[category] || 0) + t.amount;
                    });
                
                // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ø±Ø¶ Ø§Ù„ØªØ­Ù„ÙŠÙ„
                content.innerHTML = `
                    <div style="margin-bottom: 20px;">
                        <div style="font-weight: 700; margin-bottom: 15px;">ğŸ“ˆ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ</div>
                        
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 20px;">
                            <div style="text-align: center; padding: 15px; background: rgba(46, 213, 115, 0.1); border-radius: var(--border-radius-sm);">
                                <div style="font-size: 12px; color: var(--gray);">Ø§Ù„Ø¯Ø®Ù„ Ø§Ù„Ø´Ù‡Ø±ÙŠ</div>
                                <div style="font-size: 24px; font-weight: 800; color: var(--success);">${formatCurrency(monthlyIncome)}</div>
                            </div>
                            
                            <div style="text-align: center; padding: 15px; background: rgba(255, 71, 87, 0.1); border-radius: var(--border-radius-sm);">
                                <div style="font-size: 12px; color: var(--gray);">Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</div>
                                <div style="font-size: 24px; font-weight: 800; color: var(--danger);">${formatCurrency(monthlyExpenses)}</div>
                            </div>
                        </div>
                        
                        <div style="text-align: center; padding: 20px; background: rgba(45, 91, 255, 0.1); border-radius: var(--border-radius-sm);">
                            <div style="font-size: 12px; color: var(--gray);">Ø§Ù„Ù…Ø¯Ø®Ø±Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</div>
                            <div style="font-size: 32px; font-weight: 800; color: var(--primary);">${formatCurrency(monthlySavings)}</div>
                            <div style="font-size: 14px; color: var(--gray); margin-top: 5px;">
                                ${appData.monthlySavingGoal > 0 ? `${((monthlySavings / appData.monthlySavingGoal) * 100).toFixed(1)}% Ù…Ù† Ù‡Ø¯ÙÙƒ Ø§Ù„Ø´Ù‡Ø±ÙŠ` : ''}
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <div style="font-weight: 700; margin-bottom: 15px;">ğŸ“Š ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</div>
                        
                        ${Object.keys(categoryAnalysis).length > 0 ? 
                            Object.entries(categoryAnalysis)
                                .sort((a, b) => b[1] - a[1])
                                .map(([category, amount]) => {
                                    const percentage = monthlyExpenses > 0 ? (amount / monthlyExpenses * 100) : 0;
                                    const categoryInfo = appData.categories.expense[category];
                                    return `
                                        <div style="margin-bottom: 15px;">
                                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                                <div style="display: flex; align-items: center; gap: 10px;">
                                                    <div style="width: 30px; height: 30px; border-radius: 8px; background: ${categoryInfo.color}; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px;">
                                                        ${categoryInfo.icon}
                                                    </div>
                                                    <div>${categoryInfo.name}</div>
                                                </div>
                                                <div style="font-weight: 700;">${formatCurrency(amount)}</div>
                                            </div>
                                            <div style="height: 8px; background: var(--light-gray); border-radius: 4px; overflow: hidden;">
                                                <div style="height: 100%; background: ${categoryInfo.color}; border-radius: 4px; width: ${percentage}%;"></div>
                                            </div>
                                            <div style="font-size: 12px; color: var(--gray); text-align: left; margin-top: 3px;">
                                                ${percentage.toFixed(1)}% Ù…Ù† Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª
                                            </div>
                                        </div>
                                    `;
                                }).join('') :
                            '<div style="text-align: center; padding: 20px; color: var(--gray);">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ØµØ±ÙˆÙØ§Øª Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±</div>'
                        }
                    </div>
                    
                    <div style="margin-top: 20px; padding: 15px; background: #f0f7ff; border-radius: var(--border-radius-sm);">
                        <div style="font-weight: 700; margin-bottom: 10px;">ğŸ’¡ ØªÙˆØµÙŠØ§Øª Ø¹Ù…Ù„ÙŠØ©:</div>
                        <div style="font-size: 14px; color: var(--dark); line-height: 1.6;">
                `;
                
                // ØªÙˆØµÙŠØ§Øª Ù…Ø¨Ù†ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„ØªØ­Ù„ÙŠÙ„
                const recommendations = [];
                
                if (monthlyExpenses > 0) {
                    // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø£ÙƒØ¨Ø± ÙØ¦Ø© Ù…ØµØ±ÙˆÙØ§Øª
                    const biggestCategory = Object.entries(categoryAnalysis)
                        .sort((a, b) => b[1] - a[1])[0];
                    
                    if (biggestCategory) {
                        const categoryName = appData.categories.expense[biggestCategory[0]].name;
                        const categoryPercentage = (biggestCategory[1] / monthlyExpenses * 100).toFixed(1);
                        
                        if (categoryPercentage > 30) {
                            recommendations.push(`ÙØ¦Ø© "${categoryName}" ØªÙ…Ø«Ù„ ${categoryPercentage}% Ù…Ù† Ù…ØµØ±ÙˆÙØ§ØªÙƒ. ÙÙƒØ± ÙÙŠ ØªÙ‚Ù„ÙŠÙ„Ù‡Ø§.`);
                        }
                    }
                }
                
                if (monthlySavings < 0) {
                    recommendations.push("Ù…ØµØ±ÙˆÙØ§ØªÙƒ Ø§Ù„Ø´Ù‡Ø±ÙŠØ© ØªØªØ¬Ø§ÙˆØ² Ø¯Ø®Ù„Ùƒ. Ø±Ø§Ø¬Ø¹ Ù…ØµØ±ÙˆÙØ§ØªÙƒ ÙˆÙ‚Ù„Ù„ ØºÙŠØ± Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ Ù…Ù†Ù‡Ø§.");
                } else if (monthlySavings > 0 && monthlySavings < (appData.monthlyIncome * 0.1)) {
                    recommendations.push("Ù†Ø³Ø¨Ø© ØªÙˆÙÙŠØ±Ùƒ Ù…Ù†Ø®ÙØ¶Ø©. Ø­Ø§ÙˆÙ„ Ø²ÙŠØ§Ø¯Ø© Ù…Ø¯Ø®Ø±Ø§ØªÙƒ Ø¥Ù„Ù‰ 10% Ù…Ù† Ø¯Ø®Ù„Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„.");
                }
                
                if (recommendations.length > 0) {
                    content.innerHTML += "<ul style='padding-right: 20px;'>";
                    recommendations.forEach(rec => {
                        content.innerHTML += `<li style='margin-bottom: 8px;'>${rec}</li>`;
                    });
                    content.innerHTML += "</ul>";
                } else {
                    content.innerHTML += "Ø£Ø¯Ø§Ø¡ Ù…Ø§Ù„ÙŠ Ø¬ÙŠØ¯! Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø¹Ø§Ø¯Ø§ØªÙƒ Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©.";
                }
                
                content.innerHTML += `
                        </div>
                    </div>
                `;
            }
            
            modal.classList.add('active');
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„
        function closeAnalysisModal() {
            document.getElementById('financialAnalysisModal').classList.remove('active');
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Øª
        function closeToolsModal() {
            document.getElementById('financialToolsModal').classList.remove('active');
        }

        // Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©
        function showBudgetCalculator() {
            const modal = document.createElement('div');
            modal.className = 'modal active';
            
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</h3>
                        <button class="modal-close" onclick="this.parentElement.parentElement.parentElement.remove()">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label class="form-label">Ø§Ù„Ø¯Ø®Ù„ Ø§Ù„Ø´Ù‡Ø±ÙŠ (Ø¬.Ù…)</label>
                            <input type="number" class="form-input" id="budgetIncome" value="${appData.monthlyIncome || ''}" placeholder="Ø£Ø¯Ø®Ù„ Ø¯Ø®Ù„Ùƒ Ø§Ù„Ø´Ù‡Ø±ÙŠ">
                        </div>
                        
                        <div style="margin: 20px 0; padding: 20px; background: var(--light); border-radius: var(--border-radius-sm);">
                            <div style="font-weight: 700; margin-bottom: 10px;">ğŸ’¡ Ø·Ø±ÙŠÙ‚Ø© 50/30/20:</div>
                            <div style="font-size: 14px; color: var(--gray); line-height: 1.6;">
                                â€¢ 50% Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ© (Ø³ÙƒÙ†ØŒ Ø·Ø¹Ø§Ù…ØŒ Ù…ÙˆØ§ØµÙ„Ø§Øª)<br>
                                â€¢ 30% Ø±ØºØ¨Ø§Øª (ØªØ³ÙˆÙ‚ØŒ ØªØ±ÙÙŠÙ‡ØŒ Ù…Ø·Ø§Ø¹Ù…)<br>
                                â€¢ 20% ØªÙˆÙÙŠØ± ÙˆØ§Ø³ØªØ«Ù…Ø§Ø±
                            </div>
                        </div>
                        
                        <button class="btn btn-primary" onclick="calculateBudget()" style="width: 100%; margin-bottom: 20px;">
                            Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©
                        </button>
                        
                        <div id="budgetResult" style="display: none;">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©
        function calculateBudget() {
            const income = parseFloat(document.getElementById('budgetIncome').value);
            
            if (!income || income <= 0) {
                showToast('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¯Ø®Ù„ ØµØ­ÙŠØ­');
                return;
            }
            
            const needs = income * 0.50;
            const wants = income * 0.30;
            const savings = income * 0.20;
            
            const resultDiv = document.getElementById('budgetResult');
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = `
                <div style="background: white; border-radius: var(--border-radius); padding: 20px; box-shadow: var(--shadow);">
                    <div style="font-weight: 700; margin-bottom: 15px; text-align: center;">Ù†ØªØ§Ø¦Ø¬ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©</div>
                    
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <div>Ø§Ù„Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (50%)</div>
                            <div style="font-weight: 700; color: var(--primary);">${formatCurrency(needs)}</div>
                        </div>
                        <div style="height: 8px; background: var(--light-gray); border-radius: 4px; overflow: hidden;">
                            <div style="height: 100%; background: var(--primary); border-radius: 4px; width: 50%;"></div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <div>Ø§Ù„Ø±ØºØ¨Ø§Øª (30%)</div>
                            <div style="font-weight: 700; color: #FF9F43;">${formatCurrency(wants)}</div>
                        </div>
                        <div style="height: 8px; background: var(--light-gray); border-radius: 4px; overflow: hidden;">
                            <div style="height: 100%; background: #FF9F43; border-radius: 4px; width: 30%;"></div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <div>Ø§Ù„ØªÙˆÙÙŠØ± ÙˆØ§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± (20%)</div>
                            <div style="font-weight: 700; color: var(--success);">${formatCurrency(savings)}</div>
                        </div>
                        <div style="height: 8px; background: var(--light-gray); border-radius: 4px; overflow: hidden;">
                            <div style="height: 100%; background: var(--success); border-radius: 4px; width: 20%;"></div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px; padding: 15px; background: #e8f4fd; border-radius: var(--border-radius-sm);">
                        <div style="font-size: 14px; color: var(--dark); line-height: 1.6;">
                            <strong>Ù†ØµÙŠØ­Ø©:</strong> Ù‡Ø°Ù‡ Ø§Ù„Ù†Ø³Ø¨ Ù…Ø±Ù†Ø©. ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¸Ø±ÙˆÙÙƒØŒ ÙˆÙ„ÙƒÙ† Ø­Ø§ÙˆÙ„ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙˆÙÙŠØ± 20% ÙƒØ­Ø¯ Ø£Ø¯Ù†Ù‰.
                        </div>
                    </div>
                </div>
            `;
            
            // Ø­ÙØ¸ Ø§Ù„Ø¯Ø®Ù„ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø¬Ø¯ÙŠØ¯Ø§Ù‹
            if (income !== appData.monthlyIncome) {
                appData.monthlyIncome = income;
                if (appData.user) {
                    appData.user.monthlyIncome = income;
                }
                saveUserData();
                updateDashboard();
            }
        }

        // Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¯ÙŠÙˆÙ†
        function showDebtCalculator() {
            const modal = document.createElement('div');
            modal.className = 'modal active';
            
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Ø­Ø§Ø³Ø¨Ø© Ø³Ø¯Ø§Ø¯ Ø§Ù„Ø¯ÙŠÙˆÙ†</h3>
                        <button class="modal-close" onclick="this.parentElement.parentElement.parentElement.remove()">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label class="form-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¯ÙŠÙˆÙ† (Ø¬.Ù…)</label>
                            <input type="number" class="form-input" id="totalDebt" placeholder="Ø£Ø¯Ø®Ù„ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù…Ø¯ÙŠÙˆÙ†ÙŠØ§ØªÙƒ">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø´Ù‡Ø±ÙŠ Ù„Ù„Ø³Ø¯Ø§Ø¯ (Ø¬.Ù…)</label>
                            <input type="number" class="form-input" id="monthlyPayment" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø°ÙŠ ÙŠÙ…ÙƒÙ†Ùƒ Ø¯ÙØ¹Ù‡ Ø´Ù‡Ø±ÙŠØ§Ù‹">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Ø³Ø¹Ø± Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ø§Ù„Ø³Ù†ÙˆÙŠ (%)</label>
                            <input type="number" class="form-input" id="interestRate" value="10" placeholder="Ù†Ø³Ø¨Ø© Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ø§Ù„Ø³Ù†ÙˆÙŠØ©">
                        </div>
                        
                        <button class="btn btn-primary" onclick="calculateDebt()" style="width: 100%; margin-bottom: 20px;">
                            Ø­Ø³Ø§Ø¨ Ø®Ø·Ø© Ø§Ù„Ø³Ø¯Ø§Ø¯
                        </button>
                        
                        <div id="debtResult" style="display: none;">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¯ÙŠÙˆÙ†
        function calculateDebt() {
            const totalDebt = parseFloat(document.getElementById('totalDebt').value);
            const monthlyPayment = parseFloat(document.getElementById('monthlyPayment').value);
            const interestRate = parseFloat(document.getElementById('interestRate').value) / 100 / 12; // ÙØ§Ø¦Ø¯Ø© Ø´Ù‡Ø±ÙŠØ©
            
            if (!totalDebt || !monthlyPayment || totalDebt <= 0 || monthlyPayment <= 0) {
                showToast('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª ØµØ­ÙŠØ­Ø©');
                return;
            }
            
            if (monthlyPayment <= totalDebt * interestRate) {
                showToast('Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø´Ù‡Ø±ÙŠ Ù„Ù„Ø³Ø¯Ø§Ø¯ Ø£Ù‚Ù„ Ù…Ù† Ø§Ù„ÙØ§Ø¦Ø¯Ø©. ØªØ­ØªØ§Ø¬ Ù„Ø²ÙŠØ§Ø¯ØªÙ‡.');
                return;
            }
            
            // Ø­Ø³Ø§Ø¨ ÙˆÙ‚Øª Ø§Ù„Ø³Ø¯Ø§Ø¯
            let remaining = totalDebt;
            let months = 0;
            let totalInterest = 0;
            
            while (remaining > 0 && months < 600) { // Ø­Ø¯ Ø£Ù‚ØµÙ‰ 50 Ø³Ù†Ø©
                const interest = remaining * interestRate;
                const principal = monthlyPayment - interest;
                
                totalInterest += interest;
                remaining -= principal;
                months++;
                
                if (remaining < 0) remaining = 0;
            }
            
            const years = Math.floor(months / 12);
            const remainingMonths = months % 12;
            const totalPaid = totalDebt + totalInterest;
            
            const resultDiv = document.getElementById('debtResult');
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = `
                <div style="background: white; border-radius: var(--border-radius); padding: 20px; box-shadow: var(--shadow);">
                    <div style="font-weight: 700; margin-bottom: 15px; text-align: center;">Ù†ØªØ§Ø¦Ø¬ Ø®Ø·Ø© Ø³Ø¯Ø§Ø¯ Ø§Ù„Ø¯ÙŠÙˆÙ†</div>
                    
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 20px;">
                        <div style="text-align: center; padding: 15px; background: rgba(45, 91, 255, 0.1); border-radius: var(--border-radius-sm);">
                            <div style="font-size: 12px; color: var(--gray);">Ù…Ø¯Ø© Ø§Ù„Ø³Ø¯Ø§Ø¯</div>
                            <div style="font-size: 20px; font-weight: 800; color: var(--primary);">
                                ${years > 0 ? `${years} Ø³Ù†Ø© Ùˆ ` : ''}${remainingMonths} Ø´Ù‡Ø±
                            </div>
                        </div>
                        
                        <div style="text-align: center; padding: 15px; background: rgba(255, 71, 87, 0.1); border-radius: var(--border-radius-sm);">
                            <div style="font-size: 12px; color: var(--gray);">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙÙˆØ§Ø¦Ø¯</div>
                            <div style="font-size: 20px; font-weight: 800; color: var(--danger);">${formatCurrency(totalInterest)}</div>
                        </div>
                    </div>
                    
                    <div style="text-align: center; padding: 20px; background: rgba(46, 213, 115, 0.1); border-radius: var(--border-radius-sm); margin-bottom: 20px;">
                        <div style="font-size: 12px; color: var(--gray);">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³Ø¯Ø¯</div>
                        <div style="font-size: 28px; font-weight: 800; color: var(--success);">${formatCurrency(totalPaid)}</div>
                    </div>
                    
                    <div style="margin-top: 20px; padding: 15px; background: #e8f4fd; border-radius: var(--border-radius-sm);">
                        <div style="font-size: 14px; color: var(--dark); line-height: 1.6;">
                            <strong>Ù†ØµØ§Ø¦Ø­ Ù„ØªØ³Ø±ÙŠØ¹ Ø³Ø¯Ø§Ø¯ Ø§Ù„Ø¯ÙŠÙˆÙ†:</strong><br>
                            1. Ø²Ø¯ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø´Ù‡Ø±ÙŠ Ù„Ù„Ø³Ø¯Ø§Ø¯ Ø¥Ø°Ø§ Ø£Ù…ÙƒÙ†<br>
                            2. Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø³Ø¯Ø§Ø¯ Ø§Ù„Ø¯ÙŠÙˆÙ† Ø°Ø§Øª Ø§Ù„ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ø£Ø¹Ù„Ù‰ Ø£ÙˆÙ„Ø§Ù‹<br>
                            3. Ø§Ø³ØªØ®Ø¯Ù… Ø£ÙŠ Ø¯Ø®Ù„ Ø¥Ø¶Ø§ÙÙŠ Ù„Ø³Ø¯Ø§Ø¯ Ø§Ù„Ø¯ÙŠÙˆÙ†
                        </div>
                    </div>
                </div>
            `;
        }

        // Ø®Ø·Ø© Ø§Ù„ØªÙˆÙÙŠØ±
        function showSavingPlan() {
            const modal = document.createElement('div');
            modal.className = 'modal active';
            
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Ø®Ø·Ø© Ø§Ù„ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ø®ØµØµØ©</h3>
                        <button class="modal-close" onclick="this.parentElement.parentElement.parentElement.remove()">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label class="form-label">Ù‡Ø¯Ù Ø§Ù„ØªÙˆÙÙŠØ± (Ø¬.Ù…)</label>
                            <input type="number" class="form-input" id="savingTarget" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ ØªÙˆÙÙŠØ±Ù‡">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ© (Ø£Ø´Ù‡Ø±)</label>
                            <input type="number" class="form-input" id="savingMonths" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ù‡Ø± Ù„ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ù‡Ø¯Ù">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯Ø®Ø± Ø­Ø§Ù„ÙŠØ§Ù‹ (Ø¬.Ù…)</label>
                            <input type="number" class="form-input" id="currentSavings" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯Ø®Ø± Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†">
                        </div>
                        
                        <button class="btn btn-primary" onclick="calculateSavingPlan()" style="width: 100%; margin-bottom: 20px;">
                            Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø·Ø© Ø§Ù„ØªÙˆÙÙŠØ±
                        </button>
                        
                        <div id="savingPlanResult" style="display: none;">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        // Ø­Ø³Ø§Ø¨ Ø®Ø·Ø© Ø§Ù„ØªÙˆÙÙŠØ±
        function calculateSavingPlan() {
            const target = parseFloat(document.getElementById('savingTarget').value);
            const months = parseInt(document.getElementById('savingMonths').value);
            const current = parseFloat(document.getElementById('currentSavings').value) || 0;
            
            if (!target || !months || target <= 0 || months <= 0) {
                showToast('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª ØµØ­ÙŠØ­Ø©');
                return;
            }
            
            if (current >= target) {
                showToast('Ù„Ù‚Ø¯ Ø­Ù‚Ù‚Øª Ù‡Ø¯ÙÙƒ Ø¨Ø§Ù„ÙØ¹Ù„! ğŸ‰');
                return;
            }
            
            const remaining = target - current;
            const monthlySaving = remaining / months;
            const weeklySaving = monthlySaving / 4;
            const dailySaving = weeklySaving / 7;
            
            const resultDiv = document.getElementById('savingPlanResult');
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = `
                <div style="background: white; border-radius: var(--border-radius); padding: 20px; box-shadow: var(--shadow);">
                    <div style="font-weight: 700; margin-bottom: 15px; text-align: center;">Ø®Ø·Ø© Ø§Ù„ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</div>
                    
                    <div style="text-align: center; padding: 20px; background: rgba(45, 91, 255, 0.1); border-radius: var(--border-radius-sm); margin-bottom: 20px;">
                        <div style="font-size: 12px; color: var(--gray);">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø´Ù‡Ø±ÙŠ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨</div>
                        <div style="font-size: 32px; font-weight: 800; color: var(--primary);">${formatCurrency(monthlySaving)}</div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 20px;">
                        <div style="text-align: center; padding: 15px; background: rgba(0, 194, 169, 0.1); border-radius: var(--border-radius-sm);">
                            <div style="font-size: 12px; color: var(--gray);">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</div>
                            <div style="font-size: 18px; font-weight: 800; color: var(--secondary);">${formatCurrency(weeklySaving)}</div>
                        </div>
                        
                        <div style="text-align: center; padding: 15px; background: rgba(46, 213, 115, 0.1); border-radius: var(--border-radius-sm);">
                            <div style="font-size: 12px; color: var(--gray);">Ø§Ù„ÙŠÙˆÙ…ÙŠ</div>
                            <div style="font-size: 18px; font-weight: 800; color: var(--success);">${formatCurrency(dailySaving)}</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px; padding: 15px; background: #e8f4fd; border-radius: var(--border-radius-sm);">
                        <div style="font-size: 14px; color: var(--dark); line-height: 1.6;">
                            <strong>Ù†ØµØ§Ø¦Ø­ Ù„ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ø®Ø·Ø©:</strong><br>
                            1. Ø®ØµØµ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø´Ù‡Ø±ÙŠ ÙÙˆØ± Ø§Ø³ØªÙ„Ø§Ù… Ø¯Ø®Ù„Ùƒ<br>
                            2. Ø§Ø¨Ø­Ø« Ø¹Ù† Ø·Ø±Ù‚ Ù„ØªÙ‚Ù„ÙŠÙ„ Ù…ØµØ±ÙˆÙØ§ØªÙƒ Ø¨Ù…Ù‚Ø¯Ø§Ø± ${formatCurrency(monthlySaving)} Ø´Ù‡Ø±ÙŠØ§Ù‹<br>
                            3. Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙˆÙÙŠØ±ÙŠ Ù„ÙØµÙ„ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯Ø®Ø±
                        </div>
                    </div>
                </div>
            `;
        }

        // Ù…Ø­Ù„Ù„ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª
        function showExpenseAnalyzer() {
            if (appData.transactions.filter(t => t.type === 'expense').length === 0) {
                showToast('Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ØµØ±ÙˆÙØ§Øª Ù„ØªØ­Ù„ÙŠÙ„Ù‡Ø§');
                return;
            }
            
            const modal = document.createElement('div');
            modal.className = 'modal active';
            
            // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª
            const expenseAnalysis = {};
            appData.transactions
                .filter(t => t.type === 'expense')
                .forEach(t => {
                    expenseAnalysis[t.category] = (expenseAnalysis[t.category] || 0) + t.amount;
                });
            
            const totalExpenses = Object.values(expenseAnalysis).reduce((a, b) => a + b, 0);
            
            // Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙƒØ¨Ø± ÙØ¦Ø© Ù…ØµØ±ÙˆÙØ§Øª
            const biggestCategory = Object.entries(expenseAnalysis)
                .sort((a, b) => b[1] - a[1])[0];
            
            let analysisText = "";
            if (biggestCategory) {
                const categoryName = appData.categories.expense[biggestCategory[0]].name;
                const percentage = ((biggestCategory[1] / totalExpenses) * 100).toFixed(1);
                analysisText = `Ø£ÙƒØ¨Ø± ÙØ¦Ø© Ù…ØµØ±ÙˆÙØ§Øª Ù‡ÙŠ "${categoryName}" Ø¨Ù†Ø³Ø¨Ø© ${percentage}% Ù…Ù† Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù…ØµØ±ÙˆÙØ§ØªÙƒ.`;
            }
            
            // Ø­Ø³Ø§Ø¨ Ù…ØªÙˆØ³Ø· Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©
            const monthlyExpenses = {};
            appData.transactions
                .filter(t => t.type === 'expense')
                .forEach(t => {
                    const month = t.date.substring(0, 7); // YYYY-MM
                    monthlyExpenses[month] = (monthlyExpenses[month] || 0) + t.amount;
                });
            
            const monthlyAverages = Object.values(monthlyExpenses);
            const avgMonthlyExpense = monthlyAverages.length > 0 
                ? monthlyAverages.reduce((a, b) => a + b, 0) / monthlyAverages.length 
                : 0;
            
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">ØªØ­Ù„ÙŠÙ„ Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</h3>
                        <button class="modal-close" onclick="this.parentElement.parentElement.parentElement.remove()">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div style="margin-bottom: 20px;">
                            <div style="font-weight: 700; margin-bottom: 15px;">ğŸ“Š Ù…Ù„Ø®Øµ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</div>
                            
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 20px;">
                                <div style="text-align: center; padding: 15px; background: rgba(255, 71, 87, 0.1); border-radius: var(--border-radius-sm);">
                                    <div style="font-size: 12px; color: var(--gray);">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</div>
                                    <div style="font-size: 20px; font-weight: 800; color: var(--danger);">${formatCurrency(totalExpenses)}</div>
                                </div>
                                
                                <div style="text-align: center; padding: 15px; background: rgba(255, 159, 67, 0.1); border-radius: var(--border-radius-sm);">
                                    <div style="font-size: 12px; color: var(--gray);">Ø§Ù„Ù…ØªÙˆØ³Ø· Ø§Ù„Ø´Ù‡Ø±ÙŠ</div>
                                    <div style="font-size: 20px; font-weight: 800; color: #FF9F43;">${formatCurrency(avgMonthlyExpense)}</div>
                                </div>
                            </div>
                            
                            <div style="padding: 15px; background: #e8f4fd; border-radius: var(--border-radius-sm);">
                                <div style="font-size: 14px; color: var(--dark); line-height: 1.6;">
                                    ${analysisText}
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <div style="font-weight: 700; margin-bottom: 15px;">ğŸ“ˆ ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</div>
                            
                            ${Object.entries(expenseAnalysis)
                                .sort((a, b) => b[1] - a[1])
                                .map(([category, amount]) => {
                                    const percentage = totalExpenses > 0 ? (amount / totalExpenses * 100) : 0;
                                    const categoryInfo = appData.categories.expense[category];
                                    return `
                                        <div style="margin-bottom: 15px;">
                                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                                <div style="display: flex; align-items: center; gap: 10px;">
                                                    <div style="width: 30px; height: 30px; border-radius: 8px; background: ${categoryInfo.color}; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px;">
                                                        ${categoryInfo.icon}
                                                    </div>
                                                    <div>${categoryInfo.name}</div>
                                                </div>
                                                <div style="font-weight: 700;">${formatCurrency(amount)}</div>
                                            </div>
                                            <div style="height: 8px; background: var(--light-gray); border-radius: 4px; overflow: hidden;">
                                                <div style="height: 100%; background: ${categoryInfo.color}; border-radius: 4px; width: ${percentage}%;"></div>
                                            </div>
                                            <div style="font-size: 12px; color: var(--gray); text-align: left; margin-top: 3px;">
                                                ${percentage.toFixed(1)}% Ù…Ù† Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª
                                            </div>
                                        </div>
                                    `;
                                }).join('')}
                        </div>
                        
                        <div style="margin-top: 20px; padding: 15px; background: #f0f7ff; border-radius: var(--border-radius-sm);">
                            <div style="font-weight: 700; margin-bottom: 10px;">ğŸ’¡ ØªÙˆØµÙŠØ§Øª Ù„Ù„ØªØ­Ø³ÙŠÙ†:</div>
                            <div style="font-size: 14px; color: var(--dark); line-height: 1.6;">
                                1. Ø±Ø§Ø¬Ø¹ Ø£ÙƒØ¨Ø± ÙØ¦ØªÙŠÙ† Ù…Ù† Ù…ØµØ±ÙˆÙØ§ØªÙƒ ÙˆØ§Ø¨Ø­Ø« Ø¹Ù† Ø·Ø±Ù‚ Ù„ØªÙ‚Ù„ÙŠÙ„Ù‡Ù…Ø§<br>
                                2. Ø¶Ø¹ Ø­Ø¯ÙˆØ¯Ø§Ù‹ Ø´Ù‡Ø±ÙŠØ© Ù„ÙƒÙ„ ÙØ¦Ø© Ù…Ù† ÙØ¦Ø§Øª Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª<br>
                                3. ØªØ§Ø¨Ø¹ Ù…ØµØ±ÙˆÙØ§ØªÙƒ Ø£Ø³Ø¨ÙˆØ¹ÙŠØ§Ù‹ Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø¥Ù†ÙØ§Ù‚ Ø§Ù„Ø²Ø§Ø¦Ø¯
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        // ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function exportData() {
            const dataStr = JSON.stringify(appData, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `Ø¬Ù†ÙŠÙ‡Ø§Øª-Ø¨ÙŠØ§Ù†Ø§Øª-${new Date().toISOString().split('T')[0]}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            showToast('ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
        }

        // Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function importData() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const importedData = JSON.parse(e.target.result);
                        appData = importedData;
                        saveUserData();
                        updateDashboard();
                        showHomePage();
                        showToast('ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
                    } catch (error) {
                        showToast('Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
                    }
                };
                reader.readAsText(file);
            };
            
            input.click();
        }

        // ØªØ£ÙƒÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†
        function confirmReset() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡.')) {
                resetAllData();
            }
        }

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function resetAllData() {
            localStorage.removeItem('genihatRealData');
            appData = {
                user: null,
                balance: 0,
                totalIncome: 0,
                totalExpenses: 0,
                totalSavings: 0,
                monthlyIncome: 0,
                monthlySavingGoal: 0,
                transactions: [],
                goals: [],
                categories: {
                    income: {
                        salary: { name: "Ø±Ø§ØªØ¨", icon: "ğŸ’°", color: "#2ED573" },
                        freelance: { name: "Ø¹Ù…Ù„ Ø­Ø±", icon: "ğŸ’¼", color: "#00C2A9" },
                        investment: { name: "Ø§Ø³ØªØ«Ù…Ø§Ø±", icon: "ğŸ“ˆ", color: "#FF9F43" },
                        gift: { name: "Ù‡Ø¯ÙŠØ©", icon: "ğŸ", color: "#F368E0" },
                        other_income: { name: "Ø¯Ø®Ù„ Ø¢Ø®Ø±", icon: "ğŸ’µ", color: "#54A0FF" }
                    },
                    expense: {
                        food: { name: "Ø·Ø¹Ø§Ù…", icon: "ğŸ•", color: "#FF6B6B" },
                        transport: { name: "Ù…ÙˆØ§ØµÙ„Ø§Øª", icon: "ğŸš—", color: "#54A0FF" },
                        shopping: { name: "ØªØ³ÙˆÙ‚", icon: "ğŸ›ï¸", color: "#5F27CD" },
                        bills: { name: "ÙÙˆØ§ØªÙŠØ±", icon: "ğŸ“„", color: "#00D2D3" },
                        entertainment: { name: "ØªØ±ÙÙŠÙ‡", icon: "ğŸ¬", color: "#FF9F43" },
                        health: { name: "ØµØ­Ø©", icon: "ğŸ¥", color: "#1DD1A1" },
                        education: { name: "ØªØ¹Ù„ÙŠÙ…", icon: "ğŸ“š", color: "#F368E0" },
                        other_expense: { name: "Ù…ØµØ±ÙˆÙ Ø¢Ø®Ø±", icon: "ğŸ“¦", color: "#8395A7" }
                    }
                }
            };
            
            document.getElementById('appContainer').classList.remove('active');
            setTimeout(() => {
                document.getElementById('welcomeScreen').classList.remove('hidden');
                showToast('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
            }, 500);
        }

        // Ø¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª
        function getAllTransactionsHTML() {
            if (appData.transactions.length === 0) {
                return `
                    <div class="empty-state" style="padding: 20px;">
                        <div class="empty-icon">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <div class="empty-text">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</div>
                    </div>
                `;
            }
            
            const sortedTransactions = [...appData.transactions]
                .sort((a, b) => new Date(b.date) - new Date(a.date));
            
            return sortedTransactions.map(transaction => {
                const category = appData.categories[transaction.type][transaction.category];
                const isIncome = transaction.type === 'income';
                
                return `
                    <div class="transaction-item" onclick="editTransaction('${transaction.id}')">
                        <div class="transaction-icon" style="background: ${category.color}">
                            ${category.icon}
                        </div>
                        <div class="transaction-details">
                            <div class="transaction-title">${transaction.description || category.name}</div>
                            <div class="transaction-info">
                                <span>${formatDate(transaction.date)}</span>
                                <span>${category.name}</span>
                            </div>
                        </div>
                        <div class="transaction-amount ${isIncome ? 'income' : 'expense'}">
                            ${isIncome ? '+' : '-'}${formatCurrency(transaction.amount)}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // ØªØ¹Ø¯ÙŠÙ„ Ù…Ø¹Ø§Ù…Ù„Ø©
        function editTransaction(id) {
            // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ¸ÙŠÙØ© Ù„Ø§Ø­Ù‚Ø§Ù‹
            showToast('Ù…ÙŠØ²Ø© ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù‚Ø±ÙŠØ¨Ø§Ù‹');
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù„ÙˆÙ† Ø¹Ø´ÙˆØ§Ø¦ÙŠ
        function getRandomColor() {
            const colors = [
                '#2D5BFF', '#00C2A9', '#FF9F43', '#F368E0', '#FF6B6B',
                '#54A0FF', '#5F27CD', '#00D2D3', '#1DD1A1', '#FFA502'
            ];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        // ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„Ø©
        function formatCurrency(amount) {
            if (isNaN(amount)) amount = 0;
            return amount.toLocaleString('ar-EG', {
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            });
        }

        // ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ø±ÙŠØ®
        function formatDate(dateString) {
            try {
                const date = new Date(dateString);
                return date.toLocaleDateString('ar-EG', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric'
                });
            } catch (e) {
                return dateString;
            }
        }

        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // ØªØ¹ÙŠÙŠÙ† Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        function setAppHeight() {
            const appHeight = window.innerHeight;
            document.documentElement.style.setProperty('--app-height', `${appHeight}px`);
        }

        window.addEventListener('resize', setAppHeight);
        setAppHeight();
    </script>
</body>
</html>